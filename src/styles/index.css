@tailwind base;
@tailwind components;
@tailwind utilities;

/* Small app styling */
html, body, #app { height: 100%; }
:root {
    /* App-wide sans font stack */
    --app-font-sans: "Inter", "Roboto", "PT Sans", "Arial", sans-serif;

    /* Wire Element Plus to use the same family */
    --el-font-family: var(--app-font-sans);

    /* Base font size for the app */
    --el-font-size-base: 14px;
}

html,
body,
#app {
    font-family: var(--app-font-sans);
    font-size: 14px;
    font-weight: 400;
    font-synthesis-weight: none;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
    line-height: 1.45;
    letter-spacing: 0.011em;
    /* subtle tracking for readability */
}

/* Headings */
h1,
h2,
h3,
h4,
h5,
h6 {
    font-family: var(--app-font-sans);
    font-weight: 600;
    line-height: 1;
    margin: 0;
    color: var(--el-text-color-primary);
}

h1 {
    font-size: 1.286rem;
    /* 18px at 14px base */
    font-weight: 700;
    letter-spacing: -0.02em;
}

h2 {
    font-size: 1.143rem;
    /* 16px at 14px base */
    font-weight: 600;
    letter-spacing: -0.01em;
}

h3 {
    font-size: 1rem;
    /* 14px at 14px base */
    font-weight: 600;
}

/* Более нейтральные цвета для светлой темы */
html:not(.dark) {
    --el-text-color-primary: #4a5568;
    --el-text-color-regular: #718096;
    --el-text-color-secondary: #a0aec0;
}

html:not(.dark) h1,
html:not(.dark) h2,
html:not(.dark) h3,
html:not(.dark) h4,
html:not(.dark) h5,
html:not(.dark) h6 {
    color: #2d3748;
}

html:not(.dark) body,
html:not(.dark) #app {
    color: #4a5568;
}

/* Dark theme globals */
html.dark,
html.dark body,
html.dark #app {
    background-color: var(--el-bg-color-page, #262c36) !important;
    color: var(--el-text-color-primary, #e5eaf3) !important;
}

/* ========== ГЛОБАЛЬНЫЕ ПЕРЕМЕННЫЕ ТЕМНОЙ ТЕМЫ ========== */
html.dark {
    /* Цвета фона */
    --el-bg-color-page: #262c36;
    --el-bg-color: #262c36;
    --el-bg-color-overlay: #1d1e1f;
    --el-fill-color: #232833;
    --el-fill-color-light: #262727;
    --el-fill-color-lighter: #1d1d1d;
    --el-fill-color-extra-light: #191919;
    --el-fill-color-dark: #39393a;
    --el-fill-color-darker: #424243;
    --el-fill-color-blank: transparent;

    /* Цвета текста */
    --el-text-color-primary: #e5eaf3;
    --el-text-color-regular: #cfd3dc;
    --el-text-color-secondary: #a3a6ad;
    --el-text-color-placeholder: #8d9095;
    --el-text-color-disabled: #6c6e72;

    /* Цвета бордеров */
    --el-border-color: #4c4d4f;
    --el-border-color-light: #414243;
    --el-border-color-lighter: #363637;
    --el-border-color-extra-light: #2b2b2c;
    --el-border-color-dark: #58585b;
    --el-border-color-darker: #636466;

    /* Shadow */
    --el-box-shadow: 0px 12px 32px 4px rgba(0, 0, 0, 0.36), 0px 8px 20px rgba(0, 0, 0, 0.72);
    --el-box-shadow-light: 0px 0px 12px rgba(0, 0, 0, 0.72);
    --el-box-shadow-lighter: 0px 0px 6px rgba(0, 0, 0, 0.72);
    --el-box-shadow-dark: 0px 16px 48px 16px rgba(0, 0, 0, 0.72), 0px 12px 32px rgba(0, 0, 0, 0.72), 0px 8px 16px -8px rgba(0, 0, 0, 0.72);
}

/* App layout surfaces in dark */
html.dark .app-aside {
    border-right: 1px solid var(--el-border-color, #2b2f36) !important;
    background-color: var(--el-bg-color) !important;
}

html.dark .app-content {
    background-color: var(--el-bg-color) !important;
}

/* Nice dark scrollbars */
html.dark ::-webkit-scrollbar {
    width: 10px;
    height: 10px;
}

html.dark ::-webkit-scrollbar-track {
    background: var(--el-fill-color-darker);
}

html.dark ::-webkit-scrollbar-thumb {
    background: var(--el-fill-color);
    border: 1px solid var(--el-border-color);
    border-radius: 6px;
}

html.dark ::-webkit-scrollbar-thumb:hover {
    background: var(--el-color-primary-light-5);
}

/* Стили для кнопок без type в темной теме */
html.dark .el-button:not(.el-button--primary):not(.el-button--success):not(.el-button--info):not(.el-button--warning):not(.el-button--danger):not(.el-button--text) {
    background-color: var(--el-bg-color) !important;
    border-color: var(--el-border-color) !important;
    color: var(--el-text-color-primary) !important;
}

html.dark .el-button:not(.el-button--primary):not(.el-button--success):not(.el-button--info):not(.el-button--warning):not(.el-button--danger):not(.el-button--text):hover {
    background-color: var(--el-fill-color) !important;
    border-color: var(--el-border-color-light) !important;
    color: var(--el-text-color-primary) !important;
}

/* Стили для input в темной теме */
html.dark .el-input--large .el-input__wrapper {
    padding: 1px 15px !important;
}

/* Ensure common form controls inherit the global font */
input,
button,
select,
textarea,
.el-button,
.el-input__inner,
.el-select__selected-item,
.el-select-dropdown__item {
    font-family: inherit;
}

/* El-main padding override */
.el-main {
    --el-main-padding: 2px !important;
    padding: 2px !important;
}

/* Ensure the main app container uses full height and inner scrolling
   so page-level scrollbar doesn't appear due to padding. */
.body-page {
    height: 100%;
    box-sizing: border-box;
}
.body-main {
    height: 100%;
    overflow: auto;
}

/* Global Element Plus dialog styles */
/* Increase dialog width by ~30% vs default 50% (use 65vw) and unify paddings */
.el-overlay .el-dialog {
    width: 65vw !important;
    max-width: 1200px;
}

.el-dialog__header,
.el-dialog__body,
.el-dialog__footer {
    padding: 20px !important;
}

/* Optional: tighter width on small screens */
@media (max-width: 768px) {
    .el-overlay .el-dialog {
        width: 90vw !important;
        max-width: none;
    }
}

/* Ensure icon components align vertically with adjacent text */
.el-icon {
    display: inline-flex;
    align-items: center;
    vertical-align: middle;
}
.el-icon svg {
    display: block; /* remove inline-gap to avoid slight baseline shift */
}

/* ========== КОМПОНЕНТЫ ВЕРХНЕЙ ПАНЕЛИ ========== */

html.dark #custom-titlebar {
    background-color: var(--el-bg-color-page) !important;
    border-bottom: 1px solid var(--el-border-color) !important;
    color: var(--el-text-color-primary) !important;
}

html.dark #custom-titlebar .head-content,
html.dark #custom-titlebar .header-actions {
    color: var(--el-text-color-primary) !important;
}

/* SELECT в заголовке */
html.dark .header-select .el-select__wrapper {
    background-color: var(--el-bg-color) !important;
    border-color: var(--el-border-color) !important;
    color: var(--el-text-color-primary) !important;
}

html.dark .header-select .el-select__wrapper:hover {
    border-color: var(--el-border-color-light) !important;
    background-color: var(--el-bg-color) !important;
}

html.dark .header-select .el-select__wrapper.is-focused {
    border-color: var(--el-color-primary) !important;
}

html.dark .header-select .el-input__inner {
    color: var(--el-text-color-primary) !important;
    background-color: transparent !important;
}

html.dark .header-select .el-input__inner::placeholder {
    color: var(--el-text-color-placeholder) !important;
}

/* SWITCH в заголовке */
html.dark .header-actions .el-switch .el-switch__core {
    background-color: var(--el-bg-color) !important;
    border: 1px solid var(--el-border-color) !important;
}

html.dark .header-actions .el-switch.is-checked .el-switch__core {
    background-color: var(--el-bg-color) !important;
    border: 1px solid var(--el-border-color) !important;
}

html.dark .header-actions .el-switch .el-switch__action {
    background-color: var(--el-bg-color) !important;
    border: 1px solid var(--el-border-color) !important;
}

html.dark .header-actions .el-switch:hover .el-switch__core {
    background-color: var(--el-fill-color) !important;
    border-color: var(--el-border-color-light) !important;
}

html.dark .header-actions .el-switch:hover .el-switch__action {
    background-color: var(--el-fill-color) !important;
    border-color: var(--el-border-color-light) !important;
}

/* ========== КНОПКИ ========== */

html.dark .el-button {
    background-color: var(--el-fill-color);
    border-color: var(--el-border-color);
    color: var(--el-text-color-primary);
}

html.dark .el-button:hover {
    background-color: var(--el-fill-color-dark);
    border-color: var(--el-border-color-darker);
    color: var(--el-text-color-primary);
}

/* Primary кнопки */
html.dark .el-button--primary {
    background-color: #2d3748 !important;
    border-color: #4a5568 !important;
    color: #e2e8f0 !important;
}

html.dark .el-button--primary:hover {
    background-color: #4a5568 !important;
    border-color: #718096 !important;
    color: #f7fafc !important;
}

html.dark .el-button--primary:focus {
    background-color: #2d3748 !important;
    border-color: #718096 !important;
    color: #e2e8f0 !important;
}

html.dark .el-button--primary:active {
    background-color: #1a202c !important;
    border-color: #2d3748 !important;
    color: #e2e8f0 !important;
}

html.dark .el-button--primary .el-icon {
    color: #e2e8f0 !important;
}

/* Text и Link кнопки */
html.dark .el-button--text,
html.dark .el-button--link {
    background-color: transparent !important;
    border: none !important;
    color: var(--el-color-primary) !important;
    padding: 0 !important;
    box-shadow: none !important;
    outline: none !important;
}

html.dark .el-button--text:hover,
html.dark .el-button--link:hover {
    background-color: transparent !important;
    border: none !important;
    color: var(--el-color-primary-light-3) !important;
    text-decoration: underline;
}

html.dark .el-button--text:focus,
html.dark .el-button--link:focus {
    background-color: transparent !important;
    border: none !important;
    color: var(--el-color-primary) !important;
    box-shadow: none !important;
    outline: none !important;
}

html.dark .el-button--text:focus-visible,
html.dark .el-button--link:focus-visible {
    box-shadow: none !important;
    outline: none !important;
}

html.dark .el-button--text .el-icon,
html.dark .el-button--link .el-icon {
    color: var(--el-color-primary) !important;
}

html.dark .el-button--text:hover .el-icon,
html.dark .el-button--link:hover .el-icon {
    color: var(--el-color-primary-light-3) !important;
}

/* Danger кнопки */
html.dark .el-button--danger {
    background-color: transparent;
    border-color: #f56c6c;
    color: #f56c6c;
}

html.dark .el-button--danger:hover {
    background-color: rgba(245, 108, 108, 0.1);
    border-color: #f78989;
    color: #f78989;
}

html.dark .el-button--danger.is-plain {
    background-color: transparent;
    border-color: #f56c6c;
    color: #f56c6c;
}

html.dark .el-button--danger.is-plain:hover {
    background-color: rgba(245, 108, 108, 0.1);
    border-color: #f78989;
    color: #f78989;
}

/* ========== INPUT И TEXTAREA ========== */

html.dark .el-input--large .el-input__wrapper {
    border-color: var(--el-border-color);
    background-color: var(--el-bg-color);
    padding: 1px 15px !important;
}

html.dark .el-input .el-input__wrapper {
    background-color: var(--el-bg-color) !important;
    border-color: var(--el-border-color) !important;
}

html.dark .el-input .el-input__inner {
    background-color: transparent !important;
    color: var(--el-text-color-primary) !important;
}

html.dark .el-input .el-input__wrapper:hover {
    border-color: var(--el-color-primary) !important;
}

html.dark .el-input .el-input__wrapper.is-focus {
    border-color: var(--el-color-primary) !important;
    box-shadow: 0 0 0 2px var(--el-color-primary-light-8) !important;
}

html.dark .el-input .el-input__inner::placeholder {
    color: var(--el-text-color-placeholder) !important;
}

html.dark .el-input .el-input__icon {
    color: var(--el-text-color-secondary);
}

html.dark .site-input.el-input--large .el-input__wrapper {
    background-color: var(--el-bg-color) !important;
    color: var(--el-text-color-primary);
    border-color: var(--el-border-color);
}

html.dark .site-input input,
html.dark .site-input textarea {
    background-color: transparent;
    color: var(--el-text-color-primary);
    border: none;
}

html.dark .site-input .el-textarea__inner {
    background-color: var(--el-fill-color);
    color: var(--el-text-color-primary);
    border-color: var(--el-border-color);
}

html.dark .site-input.el-input--large .el-input__wrapper:focus-within {
    border-color: var(--el-color-primary);
    background-color: var(--el-fill-color-light);
}

html.dark .site-input .el-textarea__inner::placeholder,
html.dark .site-input input::placeholder,
html.dark .site-input textarea::placeholder {
    color: var(--el-text-color-placeholder);
}

/* ========== КАРТОЧКИ (CARDS) ========== */

html.dark .el-card {
    background-color: var(--el-bg-color);
    border-color: var(--el-border-color);
}

html.dark .el-card__header {
    background-color: var(--el-bg-color) !important;
    border-color: var(--el-border-color);
}

html.dark .el-card__body {
    background-color: var(--el-bg-color);
    color: var(--el-text-color-primary);
}

/* ========== ТАБЫ ========== */

html.dark .el-tabs__header {
    border-bottom-color: #374151 !important;
}

html.dark .el-tabs__nav-wrap::after {
    background-color: #374151 !important;
}

html.dark .el-tabs__item {
    color: #6b7280 !important;
    border-bottom: 2px solid transparent !important;
    white-space: nowrap;
}

html.dark .el-tabs__item:hover {
    color: #9ca3af !important;
}

html.dark .el-tabs__item.is-active {
    color: #e5e7eb !important;
    border-bottom-color: #e5e7eb !important;
}

html.dark .el-tabs__active-bar {
    background-color: #e5e7eb !important;
}

html.dark .el-tabs__content {
    background-color: transparent !important;
}

/* ========== МЕНЮ ========== */

html.dark .el-menu-item {
    color: #94a3b8 !important;
    background-color: transparent !important;
}

html.dark .el-menu-item:hover {
    color: #94a3b8 !important;
    background-color: var(--el-fill-color) !important;
}

html.dark .el-menu-item.is-active {
    background-color: transparent !important;
    color: #ffd04b !important;
    border-left: none !important;
    box-shadow: none !important;
}

html.dark .el-menu-item .el-icon {
    color: #475569 !important;
}

html.dark .el-menu-item:hover .el-icon {
    color: #94a3b8 !important;
}

html.dark .el-menu-item.is-active .el-icon {
    color: #ffd04b !important;
}

html.dark .el-menu-item.is-disabled {
    color: var(--el-text-color-disabled) !important;
}

html.dark .el-menu-item.is-disabled .el-icon {
    color: var(--el-text-color-disabled) !important;
}

/* ========== ПРОГРЕСС БАР ========== */

html.dark .el-progress {
    --el-progress-text-color: var(--el-text-color-primary);
}

html.dark .el-progress-bar__outer {
    background-color: var(--el-bg-color) !important;
    border: 1px solid var(--el-border-color) !important;
}

html.dark .el-progress-bar__inner {
    background-color: #2d3748 !important;
    background-image: none !important;
}

html.dark .el-progress__text {
    color: var(--el-text-color-primary) !important;
}

html.dark .el-progress--line.el-progress--striped .el-progress-bar__inner {
    background-image: none !important;
    background-size: auto !important;
}

html.dark .progress-bar .el-progress-bar__outer {
    background-color: var(--el-bg-color) !important;
    border: 1px solid var(--el-border-color) !important;
}

html.dark .progress-bar .el-progress-bar__inner {
    background-color: #2d3748 !important;
    background-image: none !important;
}

/* ========== SWITCH ========== */

html.dark .el-switch {
    --el-switch-on-color: #1f2937 !important;
    --el-switch-off-color: #6b7280 !important;
    --el-switch-border-color: #4b5563 !important;
}

html.dark .el-switch__core {
    background-color: #6b7280 !important;
    border-color: #9ca3af !important;
}

html.dark .el-switch.is-checked .el-switch__core {
    background-color: #1f2937 !important;
    border-color: #4b5563 !important;
}

html.dark .el-switch__action {
    background-color: #f9fafb !important;
    border-color: #d1d5db !important;
}

html.dark .el-switch.is-checked .el-switch__action {
    background-color: #e5e7eb !important;
}

/* ========== SELECT ========== */

html.dark .el-select .el-input__icon {
    color: var(--el-text-color-secondary);
}

html.dark .el-select .el-select__caret {
    color: var(--el-text-color-secondary);
}

/* ========== TOOLTIPS И POPOVERS ========== */

html.dark .el-tooltip__popper {
    background-color: #1f2937 !important;
    border: 1px solid #374151 !important;
    color: #e5e7eb !important;
}

html.dark .el-tooltip__popper .el-tooltip__arrow::before {
    background-color: #1f2937 !important;
    border: 1px solid #374151 !important;
}

html.dark .el-tooltip__popper[data-popper-placement^="right"] .el-tooltip__arrow::before {
    border-left-color: transparent !important;
    border-top-color: transparent !important;
}

html.dark .el-tooltip__popper .el-popper__arrow {
    border-right-color: #1f2937 !important;
}

/* Dark popovers */
html.dark .el-popper.is-dark {
    background-color: #303133 !important;
    color: #e4e7ed !important;
    border-color: #303133 !important;
}

html.dark .el-popper.is-dark .el-popper__arrow::before {
    background-color: #303133 !important;
    border-color: #303133 !important;
}

/* ========== СТАТИСТИКА ========== */

html.dark .el-statistic__content {
    color: var(--el-text-color-primary) !important;
}

html.dark .el-statistic__head {
    color: var(--el-text-color-regular) !important;
}

html.dark .el-statistic__number {
    color: var(--el-text-color-primary) !important;
}

html.dark .el-statistic .el-icon[style*="--color: #67C23A"] {
    color: #8fb78f !important;
}

html.dark .el-statistic .el-icon[style*="--color: #F56C6C"] {
    color: #d4a5a5 !important;
}

html.dark .el-statistic .el-icon[style*="--color: #E6A23C"] {
    color: #c4a676 !important;
}

html.dark .el-statistic .el-icon[style*="--color: #909399"] {
    color: #9ca3af !important;
}

/* ========== ССЫЛКИ ========== */

html.dark a {
    color: var(--el-color-primary);
    text-decoration: none;
}

html.dark a:hover {
    color: var(--el-color-primary-light-3);
    text-decoration: underline;
}

html.dark .el-link {
    color: var(--el-color-primary) !important;
    background-color: transparent !important;
    border: none !important;
}

html.dark .el-link:hover {
    color: var(--el-color-primary-light-3) !important;
    background-color: transparent !important;
}

html.dark .el-link__inner {
    color: inherit;
}

html.dark .el-link.is-underline:hover::after {
    border-color: var(--el-color-primary-light-3);
}

/* ========== ИКОНКИ ========== */

html.dark .el-form .el-icon,
html.dark .el-button .el-icon,
html.dark .el-select .el-icon,
html.dark .el-input .el-icon,
html.dark .el-card__header .el-icon,
html.dark .el-empty .el-icon {
    color: var(--el-text-color-regular);
}

html.dark .el-button .el-icon {
    color: inherit;
}

html.dark .el-button--danger .el-icon {
    color: #f56c6c !important;
}

html.dark .el-icon.el-icon-delete,
html.dark .el-icon[class*="delete"] {
    color: #f56c6c !important;
}

html.dark .el-icon.el-icon-setting,
html.dark .el-icon[class*="setting"] {
    color: #909399 !important;
}