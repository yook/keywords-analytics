(function(){"use strict";/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */function he(e){let n=e.length;for(;--n>=0;)e[n]=0}const vi=0,qt=1,Ei=2,Si=3,Ai=258,_t=29,ve=256,Ee=ve+1+_t,ue=30,ht=19,Vt=2*Ee+1,ie=15,ut=16,Ti=7,gt=256,Wt=16,Qt=17,Jt=18,mt=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Ke=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Ri=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),en=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),zi=512,q=new Array((Ee+2)*2);he(q);const Se=new Array(ue*2);he(Se);const Ae=new Array(zi);he(Ae);const Te=new Array(Ai-Si+1);he(Te);const pt=new Array(_t);he(pt);const Xe=new Array(ue);he(Xe);function wt(e,n,t,i,a){this.static_tree=e,this.extra_bits=n,this.extra_base=t,this.elems=i,this.max_length=a,this.has_stree=e&&e.length}let tn,nn,an;function bt(e,n){this.dyn_tree=e,this.max_code=0,this.stat_desc=n}const rn=e=>e<256?Ae[e]:Ae[256+(e>>>7)],Re=(e,n)=>{e.pending_buf[e.pending++]=n&255,e.pending_buf[e.pending++]=n>>>8&255},U=(e,n,t)=>{e.bi_valid>ut-t?(e.bi_buf|=n<<e.bi_valid&65535,Re(e,e.bi_buf),e.bi_buf=n>>ut-e.bi_valid,e.bi_valid+=t-ut):(e.bi_buf|=n<<e.bi_valid&65535,e.bi_valid+=t)},j=(e,n,t)=>{U(e,t[n*2],t[n*2+1])},on=(e,n)=>{let t=0;do t|=e&1,e>>>=1,t<<=1;while(--n>0);return t>>>1},Ii=e=>{e.bi_valid===16?(Re(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},Ni=(e,n)=>{const t=n.dyn_tree,i=n.max_code,a=n.stat_desc.static_tree,r=n.stat_desc.has_stree,s=n.stat_desc.extra_bits,l=n.stat_desc.extra_base,h=n.stat_desc.max_length;let o,f,k,p,u,x,A=0;for(p=0;p<=ie;p++)e.bl_count[p]=0;for(t[e.heap[e.heap_max]*2+1]=0,o=e.heap_max+1;o<Vt;o++)f=e.heap[o],p=t[t[f*2+1]*2+1]+1,p>h&&(p=h,A++),t[f*2+1]=p,!(f>i)&&(e.bl_count[p]++,u=0,f>=l&&(u=s[f-l]),x=t[f*2],e.opt_len+=x*(p+u),r&&(e.static_len+=x*(a[f*2+1]+u)));if(A!==0){do{for(p=h-1;e.bl_count[p]===0;)p--;e.bl_count[p]--,e.bl_count[p+1]+=2,e.bl_count[h]--,A-=2}while(A>0);for(p=h;p!==0;p--)for(f=e.bl_count[p];f!==0;)k=e.heap[--o],!(k>i)&&(t[k*2+1]!==p&&(e.opt_len+=(p-t[k*2+1])*t[k*2],t[k*2+1]=p),f--)}},ln=(e,n,t)=>{const i=new Array(ie+1);let a=0,r,s;for(r=1;r<=ie;r++)a=a+t[r-1]<<1,i[r]=a;for(s=0;s<=n;s++){let l=e[s*2+1];l!==0&&(e[s*2]=on(i[l]++,l))}},Di=()=>{let e,n,t,i,a;const r=new Array(ie+1);for(t=0,i=0;i<_t-1;i++)for(pt[i]=t,e=0;e<1<<mt[i];e++)Te[t++]=i;for(Te[t-1]=i,a=0,i=0;i<16;i++)for(Xe[i]=a,e=0;e<1<<Ke[i];e++)Ae[a++]=i;for(a>>=7;i<ue;i++)for(Xe[i]=a<<7,e=0;e<1<<Ke[i]-7;e++)Ae[256+a++]=i;for(n=0;n<=ie;n++)r[n]=0;for(e=0;e<=143;)q[e*2+1]=8,e++,r[8]++;for(;e<=255;)q[e*2+1]=9,e++,r[9]++;for(;e<=279;)q[e*2+1]=7,e++,r[7]++;for(;e<=287;)q[e*2+1]=8,e++,r[8]++;for(ln(q,Ee+1,r),e=0;e<ue;e++)Se[e*2+1]=5,Se[e*2]=on(e,5);tn=new wt(q,mt,ve+1,Ee,ie),nn=new wt(Se,Ke,0,ue,ie),an=new wt(new Array(0),Ri,0,ht,Ti)},sn=e=>{let n;for(n=0;n<Ee;n++)e.dyn_ltree[n*2]=0;for(n=0;n<ue;n++)e.dyn_dtree[n*2]=0;for(n=0;n<ht;n++)e.bl_tree[n*2]=0;e.dyn_ltree[gt*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},fn=e=>{e.bi_valid>8?Re(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},cn=(e,n,t,i)=>{const a=n*2,r=t*2;return e[a]<e[r]||e[a]===e[r]&&i[n]<=i[t]},xt=(e,n,t)=>{const i=e.heap[t];let a=t<<1;for(;a<=e.heap_len&&(a<e.heap_len&&cn(n,e.heap[a+1],e.heap[a],e.depth)&&a++,!cn(n,i,e.heap[a],e.depth));)e.heap[t]=e.heap[a],t=a,a<<=1;e.heap[t]=i},dn=(e,n,t)=>{let i,a,r=0,s,l;if(e.sym_next!==0)do i=e.pending_buf[e.sym_buf+r++]&255,i+=(e.pending_buf[e.sym_buf+r++]&255)<<8,a=e.pending_buf[e.sym_buf+r++],i===0?j(e,a,n):(s=Te[a],j(e,s+ve+1,n),l=mt[s],l!==0&&(a-=pt[s],U(e,a,l)),i--,s=rn(i),j(e,s,t),l=Ke[s],l!==0&&(i-=Xe[s],U(e,i,l)));while(r<e.sym_next);j(e,gt,n)},kt=(e,n)=>{const t=n.dyn_tree,i=n.stat_desc.static_tree,a=n.stat_desc.has_stree,r=n.stat_desc.elems;let s,l,h=-1,o;for(e.heap_len=0,e.heap_max=Vt,s=0;s<r;s++)t[s*2]!==0?(e.heap[++e.heap_len]=h=s,e.depth[s]=0):t[s*2+1]=0;for(;e.heap_len<2;)o=e.heap[++e.heap_len]=h<2?++h:0,t[o*2]=1,e.depth[o]=0,e.opt_len--,a&&(e.static_len-=i[o*2+1]);for(n.max_code=h,s=e.heap_len>>1;s>=1;s--)xt(e,t,s);o=r;do s=e.heap[1],e.heap[1]=e.heap[e.heap_len--],xt(e,t,1),l=e.heap[1],e.heap[--e.heap_max]=s,e.heap[--e.heap_max]=l,t[o*2]=t[s*2]+t[l*2],e.depth[o]=(e.depth[s]>=e.depth[l]?e.depth[s]:e.depth[l])+1,t[s*2+1]=t[l*2+1]=o,e.heap[1]=o++,xt(e,t,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],Ni(e,n),ln(t,h,e.bl_count)},_n=(e,n,t)=>{let i,a=-1,r,s=n[0*2+1],l=0,h=7,o=4;for(s===0&&(h=138,o=3),n[(t+1)*2+1]=65535,i=0;i<=t;i++)r=s,s=n[(i+1)*2+1],!(++l<h&&r===s)&&(l<o?e.bl_tree[r*2]+=l:r!==0?(r!==a&&e.bl_tree[r*2]++,e.bl_tree[Wt*2]++):l<=10?e.bl_tree[Qt*2]++:e.bl_tree[Jt*2]++,l=0,a=r,s===0?(h=138,o=3):r===s?(h=6,o=3):(h=7,o=4))},hn=(e,n,t)=>{let i,a=-1,r,s=n[0*2+1],l=0,h=7,o=4;for(s===0&&(h=138,o=3),i=0;i<=t;i++)if(r=s,s=n[(i+1)*2+1],!(++l<h&&r===s)){if(l<o)do j(e,r,e.bl_tree);while(--l!==0);else r!==0?(r!==a&&(j(e,r,e.bl_tree),l--),j(e,Wt,e.bl_tree),U(e,l-3,2)):l<=10?(j(e,Qt,e.bl_tree),U(e,l-3,3)):(j(e,Jt,e.bl_tree),U(e,l-11,7));l=0,a=r,s===0?(h=138,o=3):r===s?(h=6,o=3):(h=7,o=4)}},Ci=e=>{let n;for(_n(e,e.dyn_ltree,e.l_desc.max_code),_n(e,e.dyn_dtree,e.d_desc.max_code),kt(e,e.bl_desc),n=ht-1;n>=3&&e.bl_tree[en[n]*2+1]===0;n--);return e.opt_len+=3*(n+1)+5+5+4,n},Li=(e,n,t,i)=>{let a;for(U(e,n-257,5),U(e,t-1,5),U(e,i-4,4),a=0;a<i;a++)U(e,e.bl_tree[en[a]*2+1],3);hn(e,e.dyn_ltree,n-1),hn(e,e.dyn_dtree,t-1)},Zi=e=>{let n=4093624447,t;for(t=0;t<=31;t++,n>>>=1)if(n&1&&e.dyn_ltree[t*2]!==0)return 0;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return 1;for(t=32;t<ve;t++)if(e.dyn_ltree[t*2]!==0)return 1;return 0};let un=!1;const Oi=e=>{un||(Di(),un=!0),e.l_desc=new bt(e.dyn_ltree,tn),e.d_desc=new bt(e.dyn_dtree,nn),e.bl_desc=new bt(e.bl_tree,an),e.bi_buf=0,e.bi_valid=0,sn(e)},gn=(e,n,t,i)=>{U(e,(vi<<1)+(i?1:0),3),fn(e),Re(e,t),Re(e,~t),t&&e.pending_buf.set(e.window.subarray(n,n+t),e.pending),e.pending+=t},Ui=e=>{U(e,qt<<1,3),j(e,gt,q),Ii(e)},Mi=(e,n,t,i)=>{let a,r,s=0;e.level>0?(e.strm.data_type===2&&(e.strm.data_type=Zi(e)),kt(e,e.l_desc),kt(e,e.d_desc),s=Ci(e),a=e.opt_len+3+7>>>3,r=e.static_len+3+7>>>3,r<=a&&(a=r)):a=r=t+5,t+4<=a&&n!==-1?gn(e,n,t,i):e.strategy===4||r===a?(U(e,(qt<<1)+(i?1:0),3),dn(e,q,Se)):(U(e,(Ei<<1)+(i?1:0),3),Li(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),dn(e,e.dyn_ltree,e.dyn_dtree)),sn(e),i&&fn(e)},$i=(e,n,t)=>(e.pending_buf[e.sym_buf+e.sym_next++]=n,e.pending_buf[e.sym_buf+e.sym_next++]=n>>8,e.pending_buf[e.sym_buf+e.sym_next++]=t,n===0?e.dyn_ltree[t*2]++:(e.matches++,n--,e.dyn_ltree[(Te[t]+ve+1)*2]++,e.dyn_dtree[rn(n)*2]++),e.sym_next===e.sym_end);var Hi=Oi,Fi=gn,Bi=Mi,Pi=$i,Gi=Ui,ji={_tr_init:Hi,_tr_stored_block:Fi,_tr_flush_block:Bi,_tr_tally:Pi,_tr_align:Gi},ze=(e,n,t,i)=>{let a=e&65535|0,r=e>>>16&65535|0,s=0;for(;t!==0;){s=t>2e3?2e3:t,t-=s;do a=a+n[i++]|0,r=r+a|0;while(--s);a%=65521,r%=65521}return a|r<<16|0};const Ki=()=>{let e,n=[];for(var t=0;t<256;t++){e=t;for(var i=0;i<8;i++)e=e&1?3988292384^e>>>1:e>>>1;n[t]=e}return n},Xi=new Uint32Array(Ki());var C=(e,n,t,i)=>{const a=Xi,r=i+t;e^=-1;for(let s=i;s<r;s++)e=e>>>8^a[(e^n[s])&255];return e^-1},ae={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Ie={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:Yi,_tr_stored_block:yt,_tr_flush_block:qi,_tr_tally:Q,_tr_align:Vi}=ji,{Z_NO_FLUSH:J,Z_PARTIAL_FLUSH:Wi,Z_FULL_FLUSH:Qi,Z_FINISH:H,Z_BLOCK:mn,Z_OK:L,Z_STREAM_END:pn,Z_STREAM_ERROR:K,Z_DATA_ERROR:Ji,Z_BUF_ERROR:vt,Z_DEFAULT_COMPRESSION:ea,Z_FILTERED:ta,Z_HUFFMAN_ONLY:Ye,Z_RLE:na,Z_FIXED:ia,Z_DEFAULT_STRATEGY:aa,Z_UNKNOWN:ra,Z_DEFLATED:qe}=Ie,oa=9,la=15,sa=8,Et=256+1+29,fa=30,ca=19,da=2*Et+1,_a=15,R=3,ee=258,X=ee+R+1,ha=32,ge=42,St=57,At=69,Tt=73,Rt=91,zt=103,re=113,Ne=666,O=1,me=2,oe=3,pe=4,ua=3,le=(e,n)=>(e.msg=ae[n],n),wn=e=>e*2-(e>4?9:0),te=e=>{let n=e.length;for(;--n>=0;)e[n]=0},ga=e=>{let n,t,i,a=e.w_size;n=e.hash_size,i=n;do t=e.head[--i],e.head[i]=t>=a?t-a:0;while(--n);n=a,i=n;do t=e.prev[--i],e.prev[i]=t>=a?t-a:0;while(--n)};let ne=(e,n,t)=>(n<<e.hash_shift^t)&e.hash_mask;const M=e=>{const n=e.state;let t=n.pending;t>e.avail_out&&(t=e.avail_out),t!==0&&(e.output.set(n.pending_buf.subarray(n.pending_out,n.pending_out+t),e.next_out),e.next_out+=t,n.pending_out+=t,e.total_out+=t,e.avail_out-=t,n.pending-=t,n.pending===0&&(n.pending_out=0))},$=(e,n)=>{qi(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,n),e.block_start=e.strstart,M(e.strm)},z=(e,n)=>{e.pending_buf[e.pending++]=n},De=(e,n)=>{e.pending_buf[e.pending++]=n>>>8&255,e.pending_buf[e.pending++]=n&255},It=(e,n,t,i)=>{let a=e.avail_in;return a>i&&(a=i),a===0?0:(e.avail_in-=a,n.set(e.input.subarray(e.next_in,e.next_in+a),t),e.state.wrap===1?e.adler=ze(e.adler,n,a,t):e.state.wrap===2&&(e.adler=C(e.adler,n,a,t)),e.next_in+=a,e.total_in+=a,a)},bn=(e,n)=>{let t=e.max_chain_length,i=e.strstart,a,r,s=e.prev_length,l=e.nice_match;const h=e.strstart>e.w_size-X?e.strstart-(e.w_size-X):0,o=e.window,f=e.w_mask,k=e.prev,p=e.strstart+ee;let u=o[i+s-1],x=o[i+s];e.prev_length>=e.good_match&&(t>>=2),l>e.lookahead&&(l=e.lookahead);do if(a=n,!(o[a+s]!==x||o[a+s-1]!==u||o[a]!==o[i]||o[++a]!==o[i+1])){i+=2,a++;do;while(o[++i]===o[++a]&&o[++i]===o[++a]&&o[++i]===o[++a]&&o[++i]===o[++a]&&o[++i]===o[++a]&&o[++i]===o[++a]&&o[++i]===o[++a]&&o[++i]===o[++a]&&i<p);if(r=ee-(p-i),i=p-ee,r>s){if(e.match_start=n,s=r,r>=l)break;u=o[i+s-1],x=o[i+s]}}while((n=k[n&f])>h&&--t!==0);return s<=e.lookahead?s:e.lookahead},we=e=>{const n=e.w_size;let t,i,a;do{if(i=e.window_size-e.lookahead-e.strstart,e.strstart>=n+(n-X)&&(e.window.set(e.window.subarray(n,n+n-i),0),e.match_start-=n,e.strstart-=n,e.block_start-=n,e.insert>e.strstart&&(e.insert=e.strstart),ga(e),i+=n),e.strm.avail_in===0)break;if(t=It(e.strm,e.window,e.strstart+e.lookahead,i),e.lookahead+=t,e.lookahead+e.insert>=R)for(a=e.strstart-e.insert,e.ins_h=e.window[a],e.ins_h=ne(e,e.ins_h,e.window[a+1]);e.insert&&(e.ins_h=ne(e,e.ins_h,e.window[a+R-1]),e.prev[a&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=a,a++,e.insert--,!(e.lookahead+e.insert<R)););}while(e.lookahead<X&&e.strm.avail_in!==0)},xn=(e,n)=>{let t=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,i,a,r,s=0,l=e.strm.avail_in;do{if(i=65535,r=e.bi_valid+42>>3,e.strm.avail_out<r||(r=e.strm.avail_out-r,a=e.strstart-e.block_start,i>a+e.strm.avail_in&&(i=a+e.strm.avail_in),i>r&&(i=r),i<t&&(i===0&&n!==H||n===J||i!==a+e.strm.avail_in)))break;s=n===H&&i===a+e.strm.avail_in?1:0,yt(e,0,0,s),e.pending_buf[e.pending-4]=i,e.pending_buf[e.pending-3]=i>>8,e.pending_buf[e.pending-2]=~i,e.pending_buf[e.pending-1]=~i>>8,M(e.strm),a&&(a>i&&(a=i),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+a),e.strm.next_out),e.strm.next_out+=a,e.strm.avail_out-=a,e.strm.total_out+=a,e.block_start+=a,i-=a),i&&(It(e.strm,e.strm.output,e.strm.next_out,i),e.strm.next_out+=i,e.strm.avail_out-=i,e.strm.total_out+=i)}while(s===0);return l-=e.strm.avail_in,l&&(l>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=l&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-l,e.strm.next_in),e.strstart),e.strstart+=l,e.insert+=l>e.w_size-e.insert?e.w_size-e.insert:l),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),s?pe:n!==J&&n!==H&&e.strm.avail_in===0&&e.strstart===e.block_start?me:(r=e.window_size-e.strstart,e.strm.avail_in>r&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,r+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),r>e.strm.avail_in&&(r=e.strm.avail_in),r&&(It(e.strm,e.window,e.strstart,r),e.strstart+=r,e.insert+=r>e.w_size-e.insert?e.w_size-e.insert:r),e.high_water<e.strstart&&(e.high_water=e.strstart),r=e.bi_valid+42>>3,r=e.pending_buf_size-r>65535?65535:e.pending_buf_size-r,t=r>e.w_size?e.w_size:r,a=e.strstart-e.block_start,(a>=t||(a||n===H)&&n!==J&&e.strm.avail_in===0&&a<=r)&&(i=a>r?r:a,s=n===H&&e.strm.avail_in===0&&i===a?1:0,yt(e,e.block_start,i,s),e.block_start+=i,M(e.strm)),s?oe:O)},Nt=(e,n)=>{let t,i;for(;;){if(e.lookahead<X){if(we(e),e.lookahead<X&&n===J)return O;if(e.lookahead===0)break}if(t=0,e.lookahead>=R&&(e.ins_h=ne(e,e.ins_h,e.window[e.strstart+R-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),t!==0&&e.strstart-t<=e.w_size-X&&(e.match_length=bn(e,t)),e.match_length>=R)if(i=Q(e,e.strstart-e.match_start,e.match_length-R),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=R){e.match_length--;do e.strstart++,e.ins_h=ne(e,e.ins_h,e.window[e.strstart+R-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=ne(e,e.ins_h,e.window[e.strstart+1]);else i=Q(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&($(e,!1),e.strm.avail_out===0))return O}return e.insert=e.strstart<R-1?e.strstart:R-1,n===H?($(e,!0),e.strm.avail_out===0?oe:pe):e.sym_next&&($(e,!1),e.strm.avail_out===0)?O:me},be=(e,n)=>{let t,i,a;for(;;){if(e.lookahead<X){if(we(e),e.lookahead<X&&n===J)return O;if(e.lookahead===0)break}if(t=0,e.lookahead>=R&&(e.ins_h=ne(e,e.ins_h,e.window[e.strstart+R-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=R-1,t!==0&&e.prev_length<e.max_lazy_match&&e.strstart-t<=e.w_size-X&&(e.match_length=bn(e,t),e.match_length<=5&&(e.strategy===ta||e.match_length===R&&e.strstart-e.match_start>4096)&&(e.match_length=R-1)),e.prev_length>=R&&e.match_length<=e.prev_length){a=e.strstart+e.lookahead-R,i=Q(e,e.strstart-1-e.prev_match,e.prev_length-R),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=a&&(e.ins_h=ne(e,e.ins_h,e.window[e.strstart+R-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=R-1,e.strstart++,i&&($(e,!1),e.strm.avail_out===0))return O}else if(e.match_available){if(i=Q(e,0,e.window[e.strstart-1]),i&&$(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return O}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=Q(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<R-1?e.strstart:R-1,n===H?($(e,!0),e.strm.avail_out===0?oe:pe):e.sym_next&&($(e,!1),e.strm.avail_out===0)?O:me},ma=(e,n)=>{let t,i,a,r;const s=e.window;for(;;){if(e.lookahead<=ee){if(we(e),e.lookahead<=ee&&n===J)return O;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=R&&e.strstart>0&&(a=e.strstart-1,i=s[a],i===s[++a]&&i===s[++a]&&i===s[++a])){r=e.strstart+ee;do;while(i===s[++a]&&i===s[++a]&&i===s[++a]&&i===s[++a]&&i===s[++a]&&i===s[++a]&&i===s[++a]&&i===s[++a]&&a<r);e.match_length=ee-(r-a),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=R?(t=Q(e,1,e.match_length-R),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(t=Q(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),t&&($(e,!1),e.strm.avail_out===0))return O}return e.insert=0,n===H?($(e,!0),e.strm.avail_out===0?oe:pe):e.sym_next&&($(e,!1),e.strm.avail_out===0)?O:me},pa=(e,n)=>{let t;for(;;){if(e.lookahead===0&&(we(e),e.lookahead===0)){if(n===J)return O;break}if(e.match_length=0,t=Q(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,t&&($(e,!1),e.strm.avail_out===0))return O}return e.insert=0,n===H?($(e,!0),e.strm.avail_out===0?oe:pe):e.sym_next&&($(e,!1),e.strm.avail_out===0)?O:me};function Y(e,n,t,i,a){this.good_length=e,this.max_lazy=n,this.nice_length=t,this.max_chain=i,this.func=a}const Ce=[new Y(0,0,0,0,xn),new Y(4,4,8,4,Nt),new Y(4,5,16,8,Nt),new Y(4,6,32,32,Nt),new Y(4,4,16,16,be),new Y(8,16,32,32,be),new Y(8,16,128,128,be),new Y(8,32,128,256,be),new Y(32,128,258,1024,be),new Y(32,258,258,4096,be)],wa=e=>{e.window_size=2*e.w_size,te(e.head),e.max_lazy_match=Ce[e.level].max_lazy,e.good_match=Ce[e.level].good_length,e.nice_match=Ce[e.level].nice_length,e.max_chain_length=Ce[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=R-1,e.match_available=0,e.ins_h=0};function ba(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=qe,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(da*2),this.dyn_dtree=new Uint16Array((2*fa+1)*2),this.bl_tree=new Uint16Array((2*ca+1)*2),te(this.dyn_ltree),te(this.dyn_dtree),te(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(_a+1),this.heap=new Uint16Array(2*Et+1),te(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*Et+1),te(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Le=e=>{if(!e)return 1;const n=e.state;return!n||n.strm!==e||n.status!==ge&&n.status!==St&&n.status!==At&&n.status!==Tt&&n.status!==Rt&&n.status!==zt&&n.status!==re&&n.status!==Ne?1:0},kn=e=>{if(Le(e))return le(e,K);e.total_in=e.total_out=0,e.data_type=ra;const n=e.state;return n.pending=0,n.pending_out=0,n.wrap<0&&(n.wrap=-n.wrap),n.status=n.wrap===2?St:n.wrap?ge:re,e.adler=n.wrap===2?0:1,n.last_flush=-2,Yi(n),L},yn=e=>{const n=kn(e);return n===L&&wa(e.state),n},xa=(e,n)=>Le(e)||e.state.wrap!==2?K:(e.state.gzhead=n,L),vn=(e,n,t,i,a,r)=>{if(!e)return K;let s=1;if(n===ea&&(n=6),i<0?(s=0,i=-i):i>15&&(s=2,i-=16),a<1||a>oa||t!==qe||i<8||i>15||n<0||n>9||r<0||r>ia||i===8&&s!==1)return le(e,K);i===8&&(i=9);const l=new ba;return e.state=l,l.strm=e,l.status=ge,l.wrap=s,l.gzhead=null,l.w_bits=i,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=a+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+R-1)/R),l.window=new Uint8Array(l.w_size*2),l.head=new Uint16Array(l.hash_size),l.prev=new Uint16Array(l.w_size),l.lit_bufsize=1<<a+6,l.pending_buf_size=l.lit_bufsize*4,l.pending_buf=new Uint8Array(l.pending_buf_size),l.sym_buf=l.lit_bufsize,l.sym_end=(l.lit_bufsize-1)*3,l.level=n,l.strategy=r,l.method=t,yn(e)},ka=(e,n)=>vn(e,n,qe,la,sa,aa),ya=(e,n)=>{if(Le(e)||n>mn||n<0)return e?le(e,K):K;const t=e.state;if(!e.output||e.avail_in!==0&&!e.input||t.status===Ne&&n!==H)return le(e,e.avail_out===0?vt:K);const i=t.last_flush;if(t.last_flush=n,t.pending!==0){if(M(e),e.avail_out===0)return t.last_flush=-1,L}else if(e.avail_in===0&&wn(n)<=wn(i)&&n!==H)return le(e,vt);if(t.status===Ne&&e.avail_in!==0)return le(e,vt);if(t.status===ge&&t.wrap===0&&(t.status=re),t.status===ge){let a=qe+(t.w_bits-8<<4)<<8,r=-1;if(t.strategy>=Ye||t.level<2?r=0:t.level<6?r=1:t.level===6?r=2:r=3,a|=r<<6,t.strstart!==0&&(a|=ha),a+=31-a%31,De(t,a),t.strstart!==0&&(De(t,e.adler>>>16),De(t,e.adler&65535)),e.adler=1,t.status=re,M(e),t.pending!==0)return t.last_flush=-1,L}if(t.status===St){if(e.adler=0,z(t,31),z(t,139),z(t,8),t.gzhead)z(t,(t.gzhead.text?1:0)+(t.gzhead.hcrc?2:0)+(t.gzhead.extra?4:0)+(t.gzhead.name?8:0)+(t.gzhead.comment?16:0)),z(t,t.gzhead.time&255),z(t,t.gzhead.time>>8&255),z(t,t.gzhead.time>>16&255),z(t,t.gzhead.time>>24&255),z(t,t.level===9?2:t.strategy>=Ye||t.level<2?4:0),z(t,t.gzhead.os&255),t.gzhead.extra&&t.gzhead.extra.length&&(z(t,t.gzhead.extra.length&255),z(t,t.gzhead.extra.length>>8&255)),t.gzhead.hcrc&&(e.adler=C(e.adler,t.pending_buf,t.pending,0)),t.gzindex=0,t.status=At;else if(z(t,0),z(t,0),z(t,0),z(t,0),z(t,0),z(t,t.level===9?2:t.strategy>=Ye||t.level<2?4:0),z(t,ua),t.status=re,M(e),t.pending!==0)return t.last_flush=-1,L}if(t.status===At){if(t.gzhead.extra){let a=t.pending,r=(t.gzhead.extra.length&65535)-t.gzindex;for(;t.pending+r>t.pending_buf_size;){let l=t.pending_buf_size-t.pending;if(t.pending_buf.set(t.gzhead.extra.subarray(t.gzindex,t.gzindex+l),t.pending),t.pending=t.pending_buf_size,t.gzhead.hcrc&&t.pending>a&&(e.adler=C(e.adler,t.pending_buf,t.pending-a,a)),t.gzindex+=l,M(e),t.pending!==0)return t.last_flush=-1,L;a=0,r-=l}let s=new Uint8Array(t.gzhead.extra);t.pending_buf.set(s.subarray(t.gzindex,t.gzindex+r),t.pending),t.pending+=r,t.gzhead.hcrc&&t.pending>a&&(e.adler=C(e.adler,t.pending_buf,t.pending-a,a)),t.gzindex=0}t.status=Tt}if(t.status===Tt){if(t.gzhead.name){let a=t.pending,r;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>a&&(e.adler=C(e.adler,t.pending_buf,t.pending-a,a)),M(e),t.pending!==0)return t.last_flush=-1,L;a=0}t.gzindex<t.gzhead.name.length?r=t.gzhead.name.charCodeAt(t.gzindex++)&255:r=0,z(t,r)}while(r!==0);t.gzhead.hcrc&&t.pending>a&&(e.adler=C(e.adler,t.pending_buf,t.pending-a,a)),t.gzindex=0}t.status=Rt}if(t.status===Rt){if(t.gzhead.comment){let a=t.pending,r;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>a&&(e.adler=C(e.adler,t.pending_buf,t.pending-a,a)),M(e),t.pending!==0)return t.last_flush=-1,L;a=0}t.gzindex<t.gzhead.comment.length?r=t.gzhead.comment.charCodeAt(t.gzindex++)&255:r=0,z(t,r)}while(r!==0);t.gzhead.hcrc&&t.pending>a&&(e.adler=C(e.adler,t.pending_buf,t.pending-a,a))}t.status=zt}if(t.status===zt){if(t.gzhead.hcrc){if(t.pending+2>t.pending_buf_size&&(M(e),t.pending!==0))return t.last_flush=-1,L;z(t,e.adler&255),z(t,e.adler>>8&255),e.adler=0}if(t.status=re,M(e),t.pending!==0)return t.last_flush=-1,L}if(e.avail_in!==0||t.lookahead!==0||n!==J&&t.status!==Ne){let a=t.level===0?xn(t,n):t.strategy===Ye?pa(t,n):t.strategy===na?ma(t,n):Ce[t.level].func(t,n);if((a===oe||a===pe)&&(t.status=Ne),a===O||a===oe)return e.avail_out===0&&(t.last_flush=-1),L;if(a===me&&(n===Wi?Vi(t):n!==mn&&(yt(t,0,0,!1),n===Qi&&(te(t.head),t.lookahead===0&&(t.strstart=0,t.block_start=0,t.insert=0))),M(e),e.avail_out===0))return t.last_flush=-1,L}return n!==H?L:t.wrap<=0?pn:(t.wrap===2?(z(t,e.adler&255),z(t,e.adler>>8&255),z(t,e.adler>>16&255),z(t,e.adler>>24&255),z(t,e.total_in&255),z(t,e.total_in>>8&255),z(t,e.total_in>>16&255),z(t,e.total_in>>24&255)):(De(t,e.adler>>>16),De(t,e.adler&65535)),M(e),t.wrap>0&&(t.wrap=-t.wrap),t.pending!==0?L:pn)},va=e=>{if(Le(e))return K;const n=e.state.status;return e.state=null,n===re?le(e,Ji):L},Ea=(e,n)=>{let t=n.length;if(Le(e))return K;const i=e.state,a=i.wrap;if(a===2||a===1&&i.status!==ge||i.lookahead)return K;if(a===1&&(e.adler=ze(e.adler,n,t,0)),i.wrap=0,t>=i.w_size){a===0&&(te(i.head),i.strstart=0,i.block_start=0,i.insert=0);let h=new Uint8Array(i.w_size);h.set(n.subarray(t-i.w_size,t),0),n=h,t=i.w_size}const r=e.avail_in,s=e.next_in,l=e.input;for(e.avail_in=t,e.next_in=0,e.input=n,we(i);i.lookahead>=R;){let h=i.strstart,o=i.lookahead-(R-1);do i.ins_h=ne(i,i.ins_h,i.window[h+R-1]),i.prev[h&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=h,h++;while(--o);i.strstart=h,i.lookahead=R-1,we(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=R-1,i.match_available=0,e.next_in=s,e.input=l,e.avail_in=r,i.wrap=a,L};var Sa=ka,Aa=vn,Ta=yn,Ra=kn,za=xa,Ia=ya,Na=va,Da=Ea,Ca="pako deflate (from Nodeca project)",Ze={deflateInit:Sa,deflateInit2:Aa,deflateReset:Ta,deflateResetKeep:Ra,deflateSetHeader:za,deflate:Ia,deflateEnd:Na,deflateSetDictionary:Da,deflateInfo:Ca};const La=(e,n)=>Object.prototype.hasOwnProperty.call(e,n);var Za=function(e){const n=Array.prototype.slice.call(arguments,1);for(;n.length;){const t=n.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const i in t)La(t,i)&&(e[i]=t[i])}}return e},Oa=e=>{let n=0;for(let i=0,a=e.length;i<a;i++)n+=e[i].length;const t=new Uint8Array(n);for(let i=0,a=0,r=e.length;i<r;i++){let s=e[i];t.set(s,a),a+=s.length}return t},Ve={assign:Za,flattenChunks:Oa};let En=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{En=!1}const Oe=new Uint8Array(256);for(let e=0;e<256;e++)Oe[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;Oe[254]=Oe[254]=1;var Ua=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let n,t,i,a,r,s=e.length,l=0;for(a=0;a<s;a++)t=e.charCodeAt(a),(t&64512)===55296&&a+1<s&&(i=e.charCodeAt(a+1),(i&64512)===56320&&(t=65536+(t-55296<<10)+(i-56320),a++)),l+=t<128?1:t<2048?2:t<65536?3:4;for(n=new Uint8Array(l),r=0,a=0;r<l;a++)t=e.charCodeAt(a),(t&64512)===55296&&a+1<s&&(i=e.charCodeAt(a+1),(i&64512)===56320&&(t=65536+(t-55296<<10)+(i-56320),a++)),t<128?n[r++]=t:t<2048?(n[r++]=192|t>>>6,n[r++]=128|t&63):t<65536?(n[r++]=224|t>>>12,n[r++]=128|t>>>6&63,n[r++]=128|t&63):(n[r++]=240|t>>>18,n[r++]=128|t>>>12&63,n[r++]=128|t>>>6&63,n[r++]=128|t&63);return n};const Ma=(e,n)=>{if(n<65534&&e.subarray&&En)return String.fromCharCode.apply(null,e.length===n?e:e.subarray(0,n));let t="";for(let i=0;i<n;i++)t+=String.fromCharCode(e[i]);return t};var $a=(e,n)=>{const t=n||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,n));let i,a;const r=new Array(t*2);for(a=0,i=0;i<t;){let s=e[i++];if(s<128){r[a++]=s;continue}let l=Oe[s];if(l>4){r[a++]=65533,i+=l-1;continue}for(s&=l===2?31:l===3?15:7;l>1&&i<t;)s=s<<6|e[i++]&63,l--;if(l>1){r[a++]=65533;continue}s<65536?r[a++]=s:(s-=65536,r[a++]=55296|s>>10&1023,r[a++]=56320|s&1023)}return Ma(r,a)},Ha=(e,n)=>{n=n||e.length,n>e.length&&(n=e.length);let t=n-1;for(;t>=0&&(e[t]&192)===128;)t--;return t<0||t===0?n:t+Oe[e[t]]>n?t:n},Ue={string2buf:Ua,buf2string:$a,utf8border:Ha};function Fa(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Sn=Fa;const An=Object.prototype.toString,{Z_NO_FLUSH:Ba,Z_SYNC_FLUSH:Pa,Z_FULL_FLUSH:Ga,Z_FINISH:ja,Z_OK:We,Z_STREAM_END:Ka,Z_DEFAULT_COMPRESSION:Xa,Z_DEFAULT_STRATEGY:Ya,Z_DEFLATED:qa}=Ie;function Me(e){this.options=Ve.assign({level:Xa,method:qa,chunkSize:16384,windowBits:15,memLevel:8,strategy:Ya},e||{});let n=this.options;n.raw&&n.windowBits>0?n.windowBits=-n.windowBits:n.gzip&&n.windowBits>0&&n.windowBits<16&&(n.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Sn,this.strm.avail_out=0;let t=Ze.deflateInit2(this.strm,n.level,n.method,n.windowBits,n.memLevel,n.strategy);if(t!==We)throw new Error(ae[t]);if(n.header&&Ze.deflateSetHeader(this.strm,n.header),n.dictionary){let i;if(typeof n.dictionary=="string"?i=Ue.string2buf(n.dictionary):An.call(n.dictionary)==="[object ArrayBuffer]"?i=new Uint8Array(n.dictionary):i=n.dictionary,t=Ze.deflateSetDictionary(this.strm,i),t!==We)throw new Error(ae[t]);this._dict_set=!0}}Me.prototype.push=function(e,n){const t=this.strm,i=this.options.chunkSize;let a,r;if(this.ended)return!1;for(n===~~n?r=n:r=n===!0?ja:Ba,typeof e=="string"?t.input=Ue.string2buf(e):An.call(e)==="[object ArrayBuffer]"?t.input=new Uint8Array(e):t.input=e,t.next_in=0,t.avail_in=t.input.length;;){if(t.avail_out===0&&(t.output=new Uint8Array(i),t.next_out=0,t.avail_out=i),(r===Pa||r===Ga)&&t.avail_out<=6){this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;continue}if(a=Ze.deflate(t,r),a===Ka)return t.next_out>0&&this.onData(t.output.subarray(0,t.next_out)),a=Ze.deflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===We;if(t.avail_out===0){this.onData(t.output);continue}if(r>0&&t.next_out>0){this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;continue}if(t.avail_in===0)break}return!0},Me.prototype.onData=function(e){this.chunks.push(e)},Me.prototype.onEnd=function(e){e===We&&(this.result=Ve.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function Dt(e,n){const t=new Me(n);if(t.push(e,!0),t.err)throw t.msg||ae[t.err];return t.result}function Va(e,n){return n=n||{},n.raw=!0,Dt(e,n)}function Wa(e,n){return n=n||{},n.gzip=!0,Dt(e,n)}var Qa=Me,Ja=Dt,er=Va,tr=Wa,nr={Deflate:Qa,deflate:Ja,deflateRaw:er,gzip:tr};const Qe=16209,ir=16191;var ar=function(n,t){let i,a,r,s,l,h,o,f,k,p,u,x,A,d,c,g,m,_,b,E,w,T,v,y;const S=n.state;i=n.next_in,v=n.input,a=i+(n.avail_in-5),r=n.next_out,y=n.output,s=r-(t-n.avail_out),l=r+(n.avail_out-257),h=S.dmax,o=S.wsize,f=S.whave,k=S.wnext,p=S.window,u=S.hold,x=S.bits,A=S.lencode,d=S.distcode,c=(1<<S.lenbits)-1,g=(1<<S.distbits)-1;e:do{x<15&&(u+=v[i++]<<x,x+=8,u+=v[i++]<<x,x+=8),m=A[u&c];t:for(;;){if(_=m>>>24,u>>>=_,x-=_,_=m>>>16&255,_===0)y[r++]=m&65535;else if(_&16){b=m&65535,_&=15,_&&(x<_&&(u+=v[i++]<<x,x+=8),b+=u&(1<<_)-1,u>>>=_,x-=_),x<15&&(u+=v[i++]<<x,x+=8,u+=v[i++]<<x,x+=8),m=d[u&g];n:for(;;){if(_=m>>>24,u>>>=_,x-=_,_=m>>>16&255,_&16){if(E=m&65535,_&=15,x<_&&(u+=v[i++]<<x,x+=8,x<_&&(u+=v[i++]<<x,x+=8)),E+=u&(1<<_)-1,E>h){n.msg="invalid distance too far back",S.mode=Qe;break e}if(u>>>=_,x-=_,_=r-s,E>_){if(_=E-_,_>f&&S.sane){n.msg="invalid distance too far back",S.mode=Qe;break e}if(w=0,T=p,k===0){if(w+=o-_,_<b){b-=_;do y[r++]=p[w++];while(--_);w=r-E,T=y}}else if(k<_){if(w+=o+k-_,_-=k,_<b){b-=_;do y[r++]=p[w++];while(--_);if(w=0,k<b){_=k,b-=_;do y[r++]=p[w++];while(--_);w=r-E,T=y}}}else if(w+=k-_,_<b){b-=_;do y[r++]=p[w++];while(--_);w=r-E,T=y}for(;b>2;)y[r++]=T[w++],y[r++]=T[w++],y[r++]=T[w++],b-=3;b&&(y[r++]=T[w++],b>1&&(y[r++]=T[w++]))}else{w=r-E;do y[r++]=y[w++],y[r++]=y[w++],y[r++]=y[w++],b-=3;while(b>2);b&&(y[r++]=y[w++],b>1&&(y[r++]=y[w++]))}}else if(_&64){n.msg="invalid distance code",S.mode=Qe;break e}else{m=d[(m&65535)+(u&(1<<_)-1)];continue n}break}}else if(_&64)if(_&32){S.mode=ir;break e}else{n.msg="invalid literal/length code",S.mode=Qe;break e}else{m=A[(m&65535)+(u&(1<<_)-1)];continue t}break}}while(i<a&&r<l);b=x>>3,i-=b,x-=b<<3,u&=(1<<x)-1,n.next_in=i,n.next_out=r,n.avail_in=i<a?5+(a-i):5-(i-a),n.avail_out=r<l?257+(l-r):257-(r-l),S.hold=u,S.bits=x};const xe=15,Tn=852,Rn=592,zn=0,Ct=1,In=2,rr=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),or=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),lr=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),sr=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var $e=(e,n,t,i,a,r,s,l)=>{const h=l.bits;let o=0,f=0,k=0,p=0,u=0,x=0,A=0,d=0,c=0,g=0,m,_,b,E,w,T=null,v;const y=new Uint16Array(xe+1),S=new Uint16Array(xe+1);let _e=null,yi,ct,dt;for(o=0;o<=xe;o++)y[o]=0;for(f=0;f<i;f++)y[n[t+f]]++;for(u=h,p=xe;p>=1&&y[p]===0;p--);if(u>p&&(u=p),p===0)return a[r++]=1<<24|64<<16|0,a[r++]=1<<24|64<<16|0,l.bits=1,0;for(k=1;k<p&&y[k]===0;k++);for(u<k&&(u=k),d=1,o=1;o<=xe;o++)if(d<<=1,d-=y[o],d<0)return-1;if(d>0&&(e===zn||p!==1))return-1;for(S[1]=0,o=1;o<xe;o++)S[o+1]=S[o]+y[o];for(f=0;f<i;f++)n[t+f]!==0&&(s[S[n[t+f]]++]=f);if(e===zn?(T=_e=s,v=20):e===Ct?(T=rr,_e=or,v=257):(T=lr,_e=sr,v=0),g=0,f=0,o=k,w=r,x=u,A=0,b=-1,c=1<<u,E=c-1,e===Ct&&c>Tn||e===In&&c>Rn)return 1;for(;;){yi=o-A,s[f]+1<v?(ct=0,dt=s[f]):s[f]>=v?(ct=_e[s[f]-v],dt=T[s[f]-v]):(ct=96,dt=0),m=1<<o-A,_=1<<x,k=_;do _-=m,a[w+(g>>A)+_]=yi<<24|ct<<16|dt|0;while(_!==0);for(m=1<<o-1;g&m;)m>>=1;if(m!==0?(g&=m-1,g+=m):g=0,f++,--y[o]===0){if(o===p)break;o=n[t+s[f]]}if(o>u&&(g&E)!==b){for(A===0&&(A=u),w+=k,x=o-A,d=1<<x;x+A<p&&(d-=y[x+A],!(d<=0));)x++,d<<=1;if(c+=1<<x,e===Ct&&c>Tn||e===In&&c>Rn)return 1;b=g&E,a[b]=u<<24|x<<16|w-r|0}}return g!==0&&(a[w+g]=o-A<<24|64<<16|0),l.bits=u,0};const fr=0,Nn=1,Dn=2,{Z_FINISH:Cn,Z_BLOCK:cr,Z_TREES:Je,Z_OK:se,Z_STREAM_END:dr,Z_NEED_DICT:_r,Z_STREAM_ERROR:F,Z_DATA_ERROR:Ln,Z_MEM_ERROR:Zn,Z_BUF_ERROR:hr,Z_DEFLATED:On}=Ie,et=16180,Un=16181,Mn=16182,$n=16183,Hn=16184,Fn=16185,Bn=16186,Pn=16187,Gn=16188,jn=16189,tt=16190,V=16191,Lt=16192,Kn=16193,Zt=16194,Xn=16195,Yn=16196,qn=16197,Vn=16198,nt=16199,it=16200,Wn=16201,Qn=16202,Jn=16203,ei=16204,ti=16205,Ot=16206,ni=16207,ii=16208,I=16209,ai=16210,ri=16211,ur=852,gr=592,mr=15,oi=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function pr(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const fe=e=>{if(!e)return 1;const n=e.state;return!n||n.strm!==e||n.mode<et||n.mode>ri?1:0},li=e=>{if(fe(e))return F;const n=e.state;return e.total_in=e.total_out=n.total=0,e.msg="",n.wrap&&(e.adler=n.wrap&1),n.mode=et,n.last=0,n.havedict=0,n.flags=-1,n.dmax=32768,n.head=null,n.hold=0,n.bits=0,n.lencode=n.lendyn=new Int32Array(ur),n.distcode=n.distdyn=new Int32Array(gr),n.sane=1,n.back=-1,se},si=e=>{if(fe(e))return F;const n=e.state;return n.wsize=0,n.whave=0,n.wnext=0,li(e)},fi=(e,n)=>{let t;if(fe(e))return F;const i=e.state;return n<0?(t=0,n=-n):(t=(n>>4)+5,n<48&&(n&=15)),n&&(n<8||n>15)?F:(i.window!==null&&i.wbits!==n&&(i.window=null),i.wrap=t,i.wbits=n,si(e))},ci=(e,n)=>{if(!e)return F;const t=new pr;e.state=t,t.strm=e,t.window=null,t.mode=et;const i=fi(e,n);return i!==se&&(e.state=null),i},wr=e=>ci(e,mr);let di=!0,Ut,Mt;const br=e=>{if(di){Ut=new Int32Array(512),Mt=new Int32Array(32);let n=0;for(;n<144;)e.lens[n++]=8;for(;n<256;)e.lens[n++]=9;for(;n<280;)e.lens[n++]=7;for(;n<288;)e.lens[n++]=8;for($e(Nn,e.lens,0,288,Ut,0,e.work,{bits:9}),n=0;n<32;)e.lens[n++]=5;$e(Dn,e.lens,0,32,Mt,0,e.work,{bits:5}),di=!1}e.lencode=Ut,e.lenbits=9,e.distcode=Mt,e.distbits=5},_i=(e,n,t,i)=>{let a;const r=e.state;return r.window===null&&(r.wsize=1<<r.wbits,r.wnext=0,r.whave=0,r.window=new Uint8Array(r.wsize)),i>=r.wsize?(r.window.set(n.subarray(t-r.wsize,t),0),r.wnext=0,r.whave=r.wsize):(a=r.wsize-r.wnext,a>i&&(a=i),r.window.set(n.subarray(t-i,t-i+a),r.wnext),i-=a,i?(r.window.set(n.subarray(t-i,t),0),r.wnext=i,r.whave=r.wsize):(r.wnext+=a,r.wnext===r.wsize&&(r.wnext=0),r.whave<r.wsize&&(r.whave+=a))),0},xr=(e,n)=>{let t,i,a,r,s,l,h,o,f,k,p,u,x,A,d=0,c,g,m,_,b,E,w,T;const v=new Uint8Array(4);let y,S;const _e=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(fe(e)||!e.output||!e.input&&e.avail_in!==0)return F;t=e.state,t.mode===V&&(t.mode=Lt),s=e.next_out,a=e.output,h=e.avail_out,r=e.next_in,i=e.input,l=e.avail_in,o=t.hold,f=t.bits,k=l,p=h,T=se;e:for(;;)switch(t.mode){case et:if(t.wrap===0){t.mode=Lt;break}for(;f<16;){if(l===0)break e;l--,o+=i[r++]<<f,f+=8}if(t.wrap&2&&o===35615){t.wbits===0&&(t.wbits=15),t.check=0,v[0]=o&255,v[1]=o>>>8&255,t.check=C(t.check,v,2,0),o=0,f=0,t.mode=Un;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((o&255)<<8)+(o>>8))%31){e.msg="incorrect header check",t.mode=I;break}if((o&15)!==On){e.msg="unknown compression method",t.mode=I;break}if(o>>>=4,f-=4,w=(o&15)+8,t.wbits===0&&(t.wbits=w),w>15||w>t.wbits){e.msg="invalid window size",t.mode=I;break}t.dmax=1<<t.wbits,t.flags=0,e.adler=t.check=1,t.mode=o&512?jn:V,o=0,f=0;break;case Un:for(;f<16;){if(l===0)break e;l--,o+=i[r++]<<f,f+=8}if(t.flags=o,(t.flags&255)!==On){e.msg="unknown compression method",t.mode=I;break}if(t.flags&57344){e.msg="unknown header flags set",t.mode=I;break}t.head&&(t.head.text=o>>8&1),t.flags&512&&t.wrap&4&&(v[0]=o&255,v[1]=o>>>8&255,t.check=C(t.check,v,2,0)),o=0,f=0,t.mode=Mn;case Mn:for(;f<32;){if(l===0)break e;l--,o+=i[r++]<<f,f+=8}t.head&&(t.head.time=o),t.flags&512&&t.wrap&4&&(v[0]=o&255,v[1]=o>>>8&255,v[2]=o>>>16&255,v[3]=o>>>24&255,t.check=C(t.check,v,4,0)),o=0,f=0,t.mode=$n;case $n:for(;f<16;){if(l===0)break e;l--,o+=i[r++]<<f,f+=8}t.head&&(t.head.xflags=o&255,t.head.os=o>>8),t.flags&512&&t.wrap&4&&(v[0]=o&255,v[1]=o>>>8&255,t.check=C(t.check,v,2,0)),o=0,f=0,t.mode=Hn;case Hn:if(t.flags&1024){for(;f<16;){if(l===0)break e;l--,o+=i[r++]<<f,f+=8}t.length=o,t.head&&(t.head.extra_len=o),t.flags&512&&t.wrap&4&&(v[0]=o&255,v[1]=o>>>8&255,t.check=C(t.check,v,2,0)),o=0,f=0}else t.head&&(t.head.extra=null);t.mode=Fn;case Fn:if(t.flags&1024&&(u=t.length,u>l&&(u=l),u&&(t.head&&(w=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(i.subarray(r,r+u),w)),t.flags&512&&t.wrap&4&&(t.check=C(t.check,i,u,r)),l-=u,r+=u,t.length-=u),t.length))break e;t.length=0,t.mode=Bn;case Bn:if(t.flags&2048){if(l===0)break e;u=0;do w=i[r+u++],t.head&&w&&t.length<65536&&(t.head.name+=String.fromCharCode(w));while(w&&u<l);if(t.flags&512&&t.wrap&4&&(t.check=C(t.check,i,u,r)),l-=u,r+=u,w)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=Pn;case Pn:if(t.flags&4096){if(l===0)break e;u=0;do w=i[r+u++],t.head&&w&&t.length<65536&&(t.head.comment+=String.fromCharCode(w));while(w&&u<l);if(t.flags&512&&t.wrap&4&&(t.check=C(t.check,i,u,r)),l-=u,r+=u,w)break e}else t.head&&(t.head.comment=null);t.mode=Gn;case Gn:if(t.flags&512){for(;f<16;){if(l===0)break e;l--,o+=i[r++]<<f,f+=8}if(t.wrap&4&&o!==(t.check&65535)){e.msg="header crc mismatch",t.mode=I;break}o=0,f=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),e.adler=t.check=0,t.mode=V;break;case jn:for(;f<32;){if(l===0)break e;l--,o+=i[r++]<<f,f+=8}e.adler=t.check=oi(o),o=0,f=0,t.mode=tt;case tt:if(t.havedict===0)return e.next_out=s,e.avail_out=h,e.next_in=r,e.avail_in=l,t.hold=o,t.bits=f,_r;e.adler=t.check=1,t.mode=V;case V:if(n===cr||n===Je)break e;case Lt:if(t.last){o>>>=f&7,f-=f&7,t.mode=Ot;break}for(;f<3;){if(l===0)break e;l--,o+=i[r++]<<f,f+=8}switch(t.last=o&1,o>>>=1,f-=1,o&3){case 0:t.mode=Kn;break;case 1:if(br(t),t.mode=nt,n===Je){o>>>=2,f-=2;break e}break;case 2:t.mode=Yn;break;case 3:e.msg="invalid block type",t.mode=I}o>>>=2,f-=2;break;case Kn:for(o>>>=f&7,f-=f&7;f<32;){if(l===0)break e;l--,o+=i[r++]<<f,f+=8}if((o&65535)!==(o>>>16^65535)){e.msg="invalid stored block lengths",t.mode=I;break}if(t.length=o&65535,o=0,f=0,t.mode=Zt,n===Je)break e;case Zt:t.mode=Xn;case Xn:if(u=t.length,u){if(u>l&&(u=l),u>h&&(u=h),u===0)break e;a.set(i.subarray(r,r+u),s),l-=u,r+=u,h-=u,s+=u,t.length-=u;break}t.mode=V;break;case Yn:for(;f<14;){if(l===0)break e;l--,o+=i[r++]<<f,f+=8}if(t.nlen=(o&31)+257,o>>>=5,f-=5,t.ndist=(o&31)+1,o>>>=5,f-=5,t.ncode=(o&15)+4,o>>>=4,f-=4,t.nlen>286||t.ndist>30){e.msg="too many length or distance symbols",t.mode=I;break}t.have=0,t.mode=qn;case qn:for(;t.have<t.ncode;){for(;f<3;){if(l===0)break e;l--,o+=i[r++]<<f,f+=8}t.lens[_e[t.have++]]=o&7,o>>>=3,f-=3}for(;t.have<19;)t.lens[_e[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,y={bits:t.lenbits},T=$e(fr,t.lens,0,19,t.lencode,0,t.work,y),t.lenbits=y.bits,T){e.msg="invalid code lengths set",t.mode=I;break}t.have=0,t.mode=Vn;case Vn:for(;t.have<t.nlen+t.ndist;){for(;d=t.lencode[o&(1<<t.lenbits)-1],c=d>>>24,g=d>>>16&255,m=d&65535,!(c<=f);){if(l===0)break e;l--,o+=i[r++]<<f,f+=8}if(m<16)o>>>=c,f-=c,t.lens[t.have++]=m;else{if(m===16){for(S=c+2;f<S;){if(l===0)break e;l--,o+=i[r++]<<f,f+=8}if(o>>>=c,f-=c,t.have===0){e.msg="invalid bit length repeat",t.mode=I;break}w=t.lens[t.have-1],u=3+(o&3),o>>>=2,f-=2}else if(m===17){for(S=c+3;f<S;){if(l===0)break e;l--,o+=i[r++]<<f,f+=8}o>>>=c,f-=c,w=0,u=3+(o&7),o>>>=3,f-=3}else{for(S=c+7;f<S;){if(l===0)break e;l--,o+=i[r++]<<f,f+=8}o>>>=c,f-=c,w=0,u=11+(o&127),o>>>=7,f-=7}if(t.have+u>t.nlen+t.ndist){e.msg="invalid bit length repeat",t.mode=I;break}for(;u--;)t.lens[t.have++]=w}}if(t.mode===I)break;if(t.lens[256]===0){e.msg="invalid code -- missing end-of-block",t.mode=I;break}if(t.lenbits=9,y={bits:t.lenbits},T=$e(Nn,t.lens,0,t.nlen,t.lencode,0,t.work,y),t.lenbits=y.bits,T){e.msg="invalid literal/lengths set",t.mode=I;break}if(t.distbits=6,t.distcode=t.distdyn,y={bits:t.distbits},T=$e(Dn,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,y),t.distbits=y.bits,T){e.msg="invalid distances set",t.mode=I;break}if(t.mode=nt,n===Je)break e;case nt:t.mode=it;case it:if(l>=6&&h>=258){e.next_out=s,e.avail_out=h,e.next_in=r,e.avail_in=l,t.hold=o,t.bits=f,ar(e,p),s=e.next_out,a=e.output,h=e.avail_out,r=e.next_in,i=e.input,l=e.avail_in,o=t.hold,f=t.bits,t.mode===V&&(t.back=-1);break}for(t.back=0;d=t.lencode[o&(1<<t.lenbits)-1],c=d>>>24,g=d>>>16&255,m=d&65535,!(c<=f);){if(l===0)break e;l--,o+=i[r++]<<f,f+=8}if(g&&!(g&240)){for(_=c,b=g,E=m;d=t.lencode[E+((o&(1<<_+b)-1)>>_)],c=d>>>24,g=d>>>16&255,m=d&65535,!(_+c<=f);){if(l===0)break e;l--,o+=i[r++]<<f,f+=8}o>>>=_,f-=_,t.back+=_}if(o>>>=c,f-=c,t.back+=c,t.length=m,g===0){t.mode=ti;break}if(g&32){t.back=-1,t.mode=V;break}if(g&64){e.msg="invalid literal/length code",t.mode=I;break}t.extra=g&15,t.mode=Wn;case Wn:if(t.extra){for(S=t.extra;f<S;){if(l===0)break e;l--,o+=i[r++]<<f,f+=8}t.length+=o&(1<<t.extra)-1,o>>>=t.extra,f-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=Qn;case Qn:for(;d=t.distcode[o&(1<<t.distbits)-1],c=d>>>24,g=d>>>16&255,m=d&65535,!(c<=f);){if(l===0)break e;l--,o+=i[r++]<<f,f+=8}if(!(g&240)){for(_=c,b=g,E=m;d=t.distcode[E+((o&(1<<_+b)-1)>>_)],c=d>>>24,g=d>>>16&255,m=d&65535,!(_+c<=f);){if(l===0)break e;l--,o+=i[r++]<<f,f+=8}o>>>=_,f-=_,t.back+=_}if(o>>>=c,f-=c,t.back+=c,g&64){e.msg="invalid distance code",t.mode=I;break}t.offset=m,t.extra=g&15,t.mode=Jn;case Jn:if(t.extra){for(S=t.extra;f<S;){if(l===0)break e;l--,o+=i[r++]<<f,f+=8}t.offset+=o&(1<<t.extra)-1,o>>>=t.extra,f-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){e.msg="invalid distance too far back",t.mode=I;break}t.mode=ei;case ei:if(h===0)break e;if(u=p-h,t.offset>u){if(u=t.offset-u,u>t.whave&&t.sane){e.msg="invalid distance too far back",t.mode=I;break}u>t.wnext?(u-=t.wnext,x=t.wsize-u):x=t.wnext-u,u>t.length&&(u=t.length),A=t.window}else A=a,x=s-t.offset,u=t.length;u>h&&(u=h),h-=u,t.length-=u;do a[s++]=A[x++];while(--u);t.length===0&&(t.mode=it);break;case ti:if(h===0)break e;a[s++]=t.length,h--,t.mode=it;break;case Ot:if(t.wrap){for(;f<32;){if(l===0)break e;l--,o|=i[r++]<<f,f+=8}if(p-=h,e.total_out+=p,t.total+=p,t.wrap&4&&p&&(e.adler=t.check=t.flags?C(t.check,a,p,s-p):ze(t.check,a,p,s-p)),p=h,t.wrap&4&&(t.flags?o:oi(o))!==t.check){e.msg="incorrect data check",t.mode=I;break}o=0,f=0}t.mode=ni;case ni:if(t.wrap&&t.flags){for(;f<32;){if(l===0)break e;l--,o+=i[r++]<<f,f+=8}if(t.wrap&4&&o!==(t.total&4294967295)){e.msg="incorrect length check",t.mode=I;break}o=0,f=0}t.mode=ii;case ii:T=dr;break e;case I:T=Ln;break e;case ai:return Zn;case ri:default:return F}return e.next_out=s,e.avail_out=h,e.next_in=r,e.avail_in=l,t.hold=o,t.bits=f,(t.wsize||p!==e.avail_out&&t.mode<I&&(t.mode<Ot||n!==Cn))&&_i(e,e.output,e.next_out,p-e.avail_out),k-=e.avail_in,p-=e.avail_out,e.total_in+=k,e.total_out+=p,t.total+=p,t.wrap&4&&p&&(e.adler=t.check=t.flags?C(t.check,a,p,e.next_out-p):ze(t.check,a,p,e.next_out-p)),e.data_type=t.bits+(t.last?64:0)+(t.mode===V?128:0)+(t.mode===nt||t.mode===Zt?256:0),(k===0&&p===0||n===Cn)&&T===se&&(T=hr),T},kr=e=>{if(fe(e))return F;let n=e.state;return n.window&&(n.window=null),e.state=null,se},yr=(e,n)=>{if(fe(e))return F;const t=e.state;return t.wrap&2?(t.head=n,n.done=!1,se):F},vr=(e,n)=>{const t=n.length;let i,a,r;return fe(e)||(i=e.state,i.wrap!==0&&i.mode!==tt)?F:i.mode===tt&&(a=1,a=ze(a,n,t,0),a!==i.check)?Ln:(r=_i(e,n,t,t),r?(i.mode=ai,Zn):(i.havedict=1,se))};var Er=si,Sr=fi,Ar=li,Tr=wr,Rr=ci,zr=xr,Ir=kr,Nr=yr,Dr=vr,Cr="pako inflate (from Nodeca project)",W={inflateReset:Er,inflateReset2:Sr,inflateResetKeep:Ar,inflateInit:Tr,inflateInit2:Rr,inflate:zr,inflateEnd:Ir,inflateGetHeader:Nr,inflateSetDictionary:Dr,inflateInfo:Cr};function Lr(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Zr=Lr;const hi=Object.prototype.toString,{Z_NO_FLUSH:Or,Z_FINISH:Ur,Z_OK:He,Z_STREAM_END:$t,Z_NEED_DICT:Ht,Z_STREAM_ERROR:Mr,Z_DATA_ERROR:ui,Z_MEM_ERROR:$r}=Ie;function Fe(e){this.options=Ve.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const n=this.options;n.raw&&n.windowBits>=0&&n.windowBits<16&&(n.windowBits=-n.windowBits,n.windowBits===0&&(n.windowBits=-15)),n.windowBits>=0&&n.windowBits<16&&!(e&&e.windowBits)&&(n.windowBits+=32),n.windowBits>15&&n.windowBits<48&&(n.windowBits&15||(n.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Sn,this.strm.avail_out=0;let t=W.inflateInit2(this.strm,n.windowBits);if(t!==He)throw new Error(ae[t]);if(this.header=new Zr,W.inflateGetHeader(this.strm,this.header),n.dictionary&&(typeof n.dictionary=="string"?n.dictionary=Ue.string2buf(n.dictionary):hi.call(n.dictionary)==="[object ArrayBuffer]"&&(n.dictionary=new Uint8Array(n.dictionary)),n.raw&&(t=W.inflateSetDictionary(this.strm,n.dictionary),t!==He)))throw new Error(ae[t])}Fe.prototype.push=function(e,n){const t=this.strm,i=this.options.chunkSize,a=this.options.dictionary;let r,s,l;if(this.ended)return!1;for(n===~~n?s=n:s=n===!0?Ur:Or,hi.call(e)==="[object ArrayBuffer]"?t.input=new Uint8Array(e):t.input=e,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(i),t.next_out=0,t.avail_out=i),r=W.inflate(t,s),r===Ht&&a&&(r=W.inflateSetDictionary(t,a),r===He?r=W.inflate(t,s):r===ui&&(r=Ht));t.avail_in>0&&r===$t&&t.state.wrap>0&&e[t.next_in]!==0;)W.inflateReset(t),r=W.inflate(t,s);switch(r){case Mr:case ui:case Ht:case $r:return this.onEnd(r),this.ended=!0,!1}if(l=t.avail_out,t.next_out&&(t.avail_out===0||r===$t))if(this.options.to==="string"){let h=Ue.utf8border(t.output,t.next_out),o=t.next_out-h,f=Ue.buf2string(t.output,h);t.next_out=o,t.avail_out=i-o,o&&t.output.set(t.output.subarray(h,h+o),0),this.onData(f)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(r===He&&l===0)){if(r===$t)return r=W.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,!0;if(t.avail_in===0)break}}return!0},Fe.prototype.onData=function(e){this.chunks.push(e)},Fe.prototype.onEnd=function(e){e===He&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Ve.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function Ft(e,n){const t=new Fe(n);if(t.push(e),t.err)throw t.msg||ae[t.err];return t.result}function Hr(e,n){return n=n||{},n.raw=!0,Ft(e,n)}var Fr=Fe,Br=Ft,Pr=Hr,Gr=Ft,jr={Inflate:Fr,inflate:Br,inflateRaw:Pr,ungzip:Gr};const{Deflate:Kr,deflate:Xr,deflateRaw:Yr,gzip:qr}=nr,{Inflate:Vr,inflate:Wr,inflateRaw:Qr,ungzip:Jr}=jr;var eo=Kr,to=Xr,no=Yr,io=qr,ao=Vr,ro=Wr,oo=Qr,lo=Jr,so=Ie,fo={Deflate:eo,deflate:to,deflateRaw:no,gzip:io,Inflate:ao,inflate:ro,inflateRaw:oo,ungzip:lo,constants:so};const co=new TextDecoder("utf-8");let at=null,gi=!1;function _o(){if(!gi){gi=!0;try{const e=typeof self<"u"?self:null;e&&typeof e.postMessage=="function"&&e.postMessage({type:"lemma-dict:loaded"})}catch{}}}function Bt(e,n){return e.getUint8(n)}function rt(e,n){return e.getUint16(n,!0)}function ho(e,n){return e.getUint32(n,!0)}function ot(e,n,t,i){const a=n.subarray(t,t+i);return co.decode(a)}async function uo(){const e=await fetch("/assets/lemmas.bin");if(!e.ok)throw new Error(`HTTP ${e.status}: ${e.statusText}`);const n=await e.arrayBuffer();return new Uint8Array(n)}async function go(){return at||(at=(async()=>{const e=await uo(),n=fo.ungzip(e),t=new DataView(n.buffer,n.byteOffset,n.byteLength);let i=0;const a=ot(t,n,i,4);if(i+=4,a!=="LMDB")throw new Error("Invalid lemma dictionary header");const r=Bt(t,i);if(i+=1,r!==1)throw new Error(`Unsupported lemma dictionary version ${r}`);const s=ho(t,i);i+=4;const l=rt(t,i);i+=2;const h=[];for(let f=0;f<l;f+=1){const k=Bt(t,i);i+=1,h.push(ot(t,n,i,k)),i+=k}const o={};for(let f=0;f<s;f+=1){const k=rt(t,i);i+=2;const p=ot(t,n,i,k);i+=k;const u=rt(t,i);i+=2;const x=ot(t,n,i,u);i+=u;const A=Bt(t,i);i+=1;let d;if(A>0){d=new Uint16Array(A);for(let g=0;g<A;g+=1){const m=rt(t,i);i+=2,d[g]=m}}const c=p.toLowerCase();o[c]=d&&d.length?{lemma:x,grammemeIndexes:d}:{lemma:x}}return console.log(`[lemma-dict] loaded ${s} entries with ${h.length} grammemes`),_o(),{dict:o,grammarTable:h}})(),at)}let Pt=null,mo=0;const Be=new Map,ke=new Map;let Gt=!1,Pe=null,Ge=null,je=null;const jt=typeof SharedWorker<"u";let lt=null,Kt=null,Xt=null;function mi(){var t;if(!jt)return null;if(Pt)return Pt;const n=new SharedWorker(new URL("/assets/lemma-dict.shared-BZW7bCOX.js",self.location.href),{type:"module",name:"lemma-dict-shared"}).port;n.onmessage=i=>{const a=i.data||{};if(a.type==="lemma:ready"){pi();return}if(a.type==="lemma:entries"&&a.requestId){const r=Be.get(a.requestId);r&&(Be.delete(a.requestId),r.resolve(a.entries||{}))}if(a.type==="lemma:error"&&a.requestId){const r=Be.get(a.requestId);r&&(Be.delete(a.requestId),r.reject(new Error(a.error||"lemma shared error")))}a.type==="lemma:error"&&!a.requestId&&Yt(new Error(a.error||"lemma shared error"))};try{(t=n.start)==null||t.call(n)}catch{}return Pt=n,n}function pi(){Gt=!0,Ge&&(Ge(),Ge=null,je=null,Pe=null)}function Yt(e){Gt=!1,je&&(je(e),Ge=null,je=null,Pe=null)}async function po(e){if(e.length)if(jt){const n=mi();if(!n)return;const t=`${Date.now()}-${mo++}`,i=new Promise((r,s)=>{Be.set(t,{resolve:r,reject:s})});n.postMessage({type:"lemma:get",requestId:t,words:e});const a=await i;Object.entries(a||{}).forEach(([r,s])=>{ke.has(r)||ke.set(r,s||null)})}else await bo(e)}function wo(e){if(!lt)return null;const n=lt[e];if(!n)return null;const t=n.grammemeIndexes&&Kt?Array.from(n.grammemeIndexes).map(i=>Kt[i]).filter(Boolean):void 0;return{lemma:n.lemma,grammemes:t}}async function wi(){lt||(Xt||(Xt=go().then(({dict:e,grammarTable:n})=>{lt=e,Kt=n,pi()}).catch(e=>{throw Yt(e),e})),await Xt)}async function bo(e){await wi();for(const n of e){const t=String(n||"").toLowerCase();t&&(ke.has(t)||ke.set(t,wo(t)))}}async function xo(e){const n=[];for(const t of e){const i=String(t||"").toLowerCase();i&&(ke.has(i)||n.push(i))}n.length&&await po(n)}async function ko(){if(Gt)return;if(!jt){await wi();return}const e=mi();if(e){Pe||(Pe=new Promise((n,t)=>{Ge=n,je=t}));try{e.postMessage({type:"lemma:load"})}catch(n){Yt(n)}return Pe}}let st=null;self.addEventListener("error",e=>{var n,t,i;try{(n=self.console)==null||n.error("[consistency worker] uncaught error event",e.message,e.filename,e.lineno,e.colno,e.error),self.postMessage({type:"consistency:error",requestId:st,message:e.message,filename:e.filename,lineno:e.lineno,colno:e.colno,error:e.error?String(e.error):null,stack:((t=e.error)==null?void 0:t.stack)||null})}catch{}(i=e.preventDefault)==null||i.call(e)}),self.addEventListener("unhandledrejection",e=>{var n,t;try{(n=self.console)==null||n.error("[consistency worker] unhandled rejection",e.reason),self.postMessage({type:"consistency:error",requestId:st,message:e.reason?String(e.reason):"Unhandled rejection",error:e.reason?String(e.reason):null})}catch{}(t=e.preventDefault)==null||t.call(e)});const Z=["","","NOM","NOMN"],ce=["","ACC","ACCS"],ye=["","GEN","GENT"],B=["","","","MASC","FEM","FEMN","NEUT"],D=["","","SING","PL","PLUR"],ft=["","","","","","","","","","","","","","","","","","",""],yo=new Set(["","","","",""]);function G(e){if(!Array.isArray(e))return[];const n=[];for(const t of e){if(!t&&t!==0)continue;const a=String(t).toUpperCase().split(/[^A-Z-0-9]+/u).map(r=>r.trim()).filter(Boolean);for(const r of a)n.push(r)}return n}const vo=new Set(G(Z)),Eo=new Set(G(ce)),So=new Set(G(ye)),bi=new Set(G(B)),xi=new Set(G(D));function Ao(e){return String(e||"").replace(/[^\p{L}\p{N}\s'-]+/gu," ").split(/\s+/).filter(Boolean).map(n=>n.trim())}function N(e,n){if(!Array.isArray(e))return!1;const t=G(e);if(!t.length)return!1;let i=null;return n===Z?i=vo:n===ce?i=Eo:n===ye?i=So:n===B?i=bi:n===D?i=xi:i=new Set(G(n)),t.some(a=>i==null?void 0:i.has(a))}function de(e,n){if(!e.grammemes)return!1;const t=G(e.grammemes);if(!t.length)return!1;let i=null;return n===B?i=bi:i=new Set(G(n)),t.some(a=>i==null?void 0:i.has(a))}function P(e,n){if(!e.grammemes)return!1;const t=G(e.grammemes);if(!t.length)return!1;let i=null;return n===D?i=xi:i=new Set(G(n)),t.some(a=>i==null?void 0:i.has(a))}function To(e){const n=e.map(t=>String(t).toUpperCase());return n.some(t=>["S","","NOUN","SUBST",""].some(i=>t.includes(i)))?"S":n.some(t=>["A","ADJ","","QUAL"].some(i=>t.includes(i)))?"A":n.some(t=>["V","INF","VERB",""].some(i=>t.includes(i)))?"V":n.some(t=>["NUM",""].some(i=>t.includes(i)))?"NUM":n[0]||""}function ki(e){const n=String(e||"").toLowerCase(),t=ke.get(n)||null;if(!t)return[];const i=t.grammemes?t.grammemes.filter(Boolean):[];return[{pos:To(i),grammemes:i,normal:t.lemma||e}]}function Ro(e,n){for(const t of e)for(const i of n){const a=N(t.grammemes,Z),r=N(i.grammemes,Z),s=N(t.grammemes,ce),l=N(i.grammemes,ce),h=N(t.grammemes,ye),o=N(i.grammemes,ye);let f=null;if((a||r)&&a&&r)f="nom";else if((s||l)&&s&&l)f="acc";else if((h||o)&&h&&o)f="gen";else if(!a&&!s&&!r&&!l)f=null;else continue;const k=de(t,B),p=de(i,B);if(k&&p){const A=t.grammemes.map(c=>String(c).toLowerCase()).find(c=>B.includes(c)),d=i.grammemes.map(c=>String(c).toLowerCase()).find(c=>B.includes(c));if(A&&d&&A!==d){const c=P(t,D),g=P(i,D);if(!(c&&g))continue;const m=t.grammemes.map(b=>String(b).toLowerCase()).find(b=>D.includes(b)),_=i.grammemes.map(b=>String(b).toLowerCase()).find(b=>D.includes(b));if(!m||!_||m!==_)continue}}const u=P(t,D),x=P(i,D);if(u&&x){const A=t.grammemes.map(c=>String(c).toLowerCase()).find(c=>D.includes(c)),d=i.grammemes.map(c=>String(c).toLowerCase()).find(c=>D.includes(c));if(A&&d&&A!==d)continue}return f}return null}function zo(e){var A;const n=e[0]?String(e[0]).toUpperCase():null;if(n&&ft.includes(n))return{ok:!1,reason:`  "${e[0]}"  ;    /  .`};const t=e.map(d=>({token:d,parses:ki(d)}));for(const d of t)if(!(d.parses&&d.parses.length))try{const c=d.token;let g=null;if(c.match(/[]$/u)?g=c.slice(0,-1):c.match(/$/u)?g=c.replace(/$/u,""):c.match(/$/u)&&(g=c.replace(/$/u,"")),g){const m=ki(g);m&&m.length&&(d.parses=m)}}catch{}const i=t.some(d=>d.parses.some(c=>{const g=(c.pos||"").toString().toUpperCase();return!!(g.includes("V")||g.includes("INF")||g.includes("VERB")||g===""||c.grammemes&&c.grammemes.some(m=>String(m).toLowerCase().includes("")))}));if(i)return{ok:!0,reason:" /    ."};const a=d=>{const c=String(d||"").toUpperCase();return c==="S"||c===""||c==="NOUN"},r=d=>{const c=String(d||"").toUpperCase();return c==="A"||c===""||c==="ADJ"},s=[];let l=[];t.forEach((d,c)=>{let g=d.parses.filter(_=>{if(a(_.pos)||_.grammemes&&_.grammemes.some(b=>String(b).toLowerCase().includes("")))return!0;try{const b=de(_,B),E=P(_,D),T=(_.grammemes||[]).join(",").toLowerCase().includes("");if((b||E)&&!T)return!0}catch{}return!1});try{if((!g||g.length===0)&&d.token){const _=String(d.token||"").toLowerCase();yo.has(_)&&(g=[{pos:"",grammemes:[""],normal:String(d.token||"").toUpperCase()}])}}catch{}if(g.length){const _=e[c-1]?e[c-1].toUpperCase():null,b=_?ft.includes(_):!1;d.parses.some(v=>r(v.pos));let E=g.some(v=>{try{if(a(v.pos))return!0;const y=(v.grammemes||[]).map(S=>String(S).toUpperCase());if(y.some(S=>S.includes("")))return!0;if(String(v.pos||"").toUpperCase()==="")return!y.some(S=>S.includes("")||S.includes(""))}catch{}return!1}),w=!1,T=E&&!0;try{if(!T){const v=String(d.token||"").toLowerCase();!w&&/[]$/u.test(v)&&(T=!0)}}catch{}s.push({token:d.token,parses:g,idx:c,explicit:T,inPrepositional:b})}const m=d.parses.filter(_=>r(_.pos)?!0:_.grammemes&&_.grammemes.some(b=>String(b).toLowerCase().includes("")));m.length&&l.push({token:d.token,parses:m,idx:c})}),l=l.filter(d=>{const c=e[d.idx-1]?e[d.idx-1].toUpperCase():null;return!(c&&ft.includes(c))}),l=l.filter(d=>!s.some(c=>c.idx===d.idx&&c.explicit));try{if(s.length>1){const d=s.filter(g=>g.explicit&&!g.inPrepositional).sort((g,m)=>g.idx-m.idx)[0],c=s.find(g=>g.idx>(d?d.idx:-1)&&g.parses.some(m=>N(m.grammemes,ye)));if(d&&c)return{ok:!0,reason:`  "${d.token}"   :    noun   .`}}}catch{}if(s.length===0)return{ok:!1,reason:"          ."};try{if(!i){const d=[...s].sort((c,g)=>c.idx-g.idx)[0];try{if(d&&d.parses.some(c=>N(c.grammemes,ce))&&!d.parses.some(c=>N(c.grammemes,Z)))return{ok:!1,reason:`  "${d.token}"          /  .`}}catch{}}}catch{}let h=null,o=null,f=!1,k=null;if(l.length>0){for(const d of l){const c=e[d.idx-1]?e[d.idx-1].toUpperCase():null;if(c&&ft.includes(c))continue;const g=[...s].sort((m,_)=>m.explicit&&!_.explicit?-1:!m.explicit&&_.explicit?1:Math.abs(m.idx-d.idx)-Math.abs(_.idx-d.idx));for(const m of g){if(m.idx===d.idx)continue;const _=Ro(m.parses,d.parses);if(_!==null){if(!m.explicit&&!m.parses.some(E=>{try{const w=de(E,B),T=P(E,D),v=(E.grammemes||[]).join(",").toLowerCase(),y=v.includes("")||v.includes("e")||v.includes("");return w&&T&&!y}catch{return!1}}))continue;if(h=m,o=_,!h.explicit){const b=s.filter(E=>E.explicit&&!E.inPrepositional).map(E=>({nc:E,dist:Math.abs(E.idx-d.idx)})).sort((E,w)=>E.dist-w.dist);if(b.length){const E=b[0].nc;h=E,o=E.parses.some(w=>N(w.grammemes,Z))?"nom":o}}f=!0,k=d.idx;break}}if(h)break}if(!f){for(const d of l){const c=[...s].sort((g,m)=>g.explicit&&!m.explicit?-1:!g.explicit&&m.explicit?1:Math.abs(g.idx-d.idx)-Math.abs(m.idx-d.idx));for(const g of c)if(g.idx!==d.idx)if(g.explicit){const m=g.parses.some(w=>N(w.grammemes,Z)),_=d.parses.some(w=>N(w.grammemes,Z));if(m||_){h=g,o="nom",f=!0;break}const b=g.parses.some(w=>P(w,D)),E=d.parses.some(w=>P(w,D));if(b&&E){h=g,o="nom",f=!0;break}}else{const m=g.parses.some(w=>de(w,B)),_=d.parses.some(w=>de(w,B)),b=g.parses.some(w=>P(w,D)),E=d.parses.some(w=>P(w,D));if(m&&_||b&&E){h=g,o="nom",f=!0;break}}if(f)break}if(!f)return{ok:!1,reason:"       ."}}if(h&&!h.explicit){const d=_=>o?_.parses.some(b=>o==="nom"?N(b.grammemes,Z):o==="acc"?N(b.grammemes,ce):!1):!1,c=typeof k=="number"?k:null,g=s.filter(_=>_.explicit).map(_=>({nc:_,dist:c===null?0:Math.abs(_.idx-c)})).sort((_,b)=>_.dist-b.dist);let m=null;for(const _ of g){const b=_.nc;if(d(b)){m=b;break}}m||(m=(A=g.find(_=>_.nc.parses.some(b=>N(b.grammemes,Z))))==null?void 0:A.nc),m&&(h=m,o=h.parses.some(_=>N(_.grammemes,Z))?"nom":o)}}if(h&&o==="acc"){if(h.explicit&&(h.parses.some(c=>P(c,D))||/[]$/u.test(String(h.token||"").toLowerCase())))return{ok:!0,reason:`  "${h.token}"    ( )    .`};const d=s.find(c=>c.idx<h.idx&&c.explicit&&c.parses.some(g=>N(g.grammemes,Z)));d&&(h=d,o="nom")}if(h&&o!=="nom"&&o!=="acc"){const d=s.find(c=>c.explicit&&c.parses.some(g=>N(g.grammemes,Z)));d&&(h=d,o="nom")}if(h){const d=s.find(c=>c.explicit&&!c.inPrepositional&&c.parses.some(g=>N(g.grammemes,Z)));d&&(h.inPrepositional||o!=="nom")&&(h=d,o="nom")}if(h)try{if(o==="gen"||h.parses.some(c=>N(c.grammemes,ye))){const c=s.find(g=>g.idx<h.idx&&g.explicit&&!g.inPrepositional);c&&(h=c,o="nom")}}catch{}if(!h){const d=s.find(c=>c.explicit&&c.parses.some(g=>N(g.grammemes,Z)));if(d)h=d,o="nom";else{const c=s.find(g=>!g.inPrepositional&&g.parses.some(m=>{try{const _=de(m,B),b=P(m,D),w=(m.grammemes||[]).join(",").toLowerCase().includes("");return(_||b)&&!w}catch{return!1}}));if(c)h=c,o="nom";else return{ok:!1,reason:"      (  )   ."}}}h||(h=s[s.length-1],o=null);const p=h.token;return o==="nom"?{ok:!0,reason:`  "${p}"         .`}:o==="acc"?{ok:!1,reason:`  "${p}"          /  .`}:h.parses.some(d=>{const g=(Array.isArray(d.grammemes)?d.grammemes.map(String):[]).some(m=>String(m).trim()==="0");return N(d.grammemes,Z)||h.explicit&&g})||h.explicit&&/[]$/u.test(String(h.token||"").toLowerCase())?{ok:!0,reason:`  "${p}"          .`}:h.parses.some(d=>N(d.grammemes,ce))?{ok:!1,reason:`  "${p}"         /  .`}:{ok:!1,reason:` ;    ("${p}")     .`}}function Io(){return new Promise((e,n)=>{const t=indexedDB.open("app-db");t.onsuccess=()=>e(t.result),t.onerror=()=>n(t.error),t.onupgradeneeded=()=>{}})}self.addEventListener("message",async e=>{const{type:n,payload:t,requestId:i}=e.data||{};st=i||null;try{if(n!=="consistency")return;const a=t!=null&&t.projectId?String(t.projectId):"anon",r=t!=null&&t.batchSize?Number(t.batchSize):10;await ko();const s=await Io();if(!s.objectStoreNames.contains("keywords")){self.postMessage({type:"consistency:done",requestId:i,processed:0,total:0});return}let l=0;if(await new Promise((f,k)=>{try{const x=s.transaction("keywords","readonly").objectStore("keywords").openCursor();x.onsuccess=async A=>{const d=A.target.result;if(!d)return f();const c=d.value||{};String(c.projectId||"anon")===a&&(c.is_valid_headline===null||c.is_valid_headline===void 0)&&l++,d.continue()},x.onerror=()=>k(x.error)}catch(p){k(p)}}),l===0){self.postMessage({type:"consistency:done",requestId:i,processed:0,total:0});return}let h=0,o=[];await new Promise((f,k)=>{try{const u=s.transaction("keywords","readwrite").objectStore("keywords"),x=u.openCursor();x.onsuccess=async A=>{const d=A.target.result;if(!d){if(o.length>0){for(const b of o)u.put(b);h+=o.length;const _=l>0?Math.round(h/l*100):100;self.postMessage({type:"consistency:progress",requestId:i,processed:h,total:l,percent:_}),o=[]}return f()}const c=d.value||{};if(String(c.projectId||"anon")===a&&(c.is_valid_headline===null||c.is_valid_headline===void 0)){const _=String(c.keyword||""),b=Ao(_);await xo(b);const E=zo(b);if(c.is_valid_headline=E.ok?1:0,c.validation_reason=E.reason||null,o.push(c),o.length>=r){for(const T of o)u.put(T);h+=o.length;const w=l>0?Math.round(h/l*100):100;self.postMessage({type:"consistency:progress",requestId:i,processed:h,total:l,percent:w}),o=[]}}d.continue()},x.onerror=()=>k(x.error)}catch(p){k(p)}}),self.postMessage({type:"consistency:done",requestId:i,processed:h,total:l})}catch(a){const r=a&&typeof a.message=="string"?a.message:String(a),s=a&&typeof a.stack=="string"?a.stack:null;self.postMessage({type:"consistency:error",requestId:i,message:r,error:r,stack:s})}finally{st=null}})})();
